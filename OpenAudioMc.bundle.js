!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=334)}([function(e,t,n){var r=n(1),i=n(7),o=n(14),s=n(11),a=n(17),u="prototype",c=function(e,t,n){var l,h,d,f,p=e&c.F,g=e&c.G,m=e&c.S,v=e&c.P,y=e&c.B,b=g?r:m?r[t]||(r[t]={}):(r[t]||{})[u],w=g?i:i[t]||(i[t]={}),S=w[u]||(w[u]={});for(l in g&&(n=t),n)d=((h=!p&&b&&void 0!==b[l])?b:n)[l],f=y&&h?a(d,r):v&&"function"==typeof d?a(Function.call,d):d,b&&s(b,l,d,e&c.U),w[l]!=d&&o(w,l,f),v&&S[l]!=d&&(S[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(48)("wks"),i=n(29),o=n(1).Symbol,s="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(19),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},function(e,t,n){e.exports=!n(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(3),i=n(89),o=n(26),s=Object.defineProperty;t.f=n(8)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(24);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(1),i=n(14),o=n(13),s=n(29)("src"),a=n(138),u="toString",c=(""+a).split(u);n(7).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]===n||(u&&(o(n,s)||i(n,s,e[t]?""+e[t]:c.join(t+""))),e===r?e[t]=n:a?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(e,t,n){var r=n(0),i=n(2),o=n(24),s=/"/g,a=function(e,t,n,r){var i=o(e)+"",a="<"+t;return""!==n&&(a+=" "+n+'="'+(r+"").replace(s,"&quot;")+'"'),a+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(a),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})),"String",n)}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){var r=n(9),i=n(28);e.exports=n(8)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(44),i=n(24);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){return r(e),void 0===t?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,i){return e.call(t,n,r,i)}:function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},function(e,t,n){var r=n(45),i=n(28),o=n(15),s=n(26),a=n(13),u=n(89),c=Object.getOwnPropertyDescriptor;t.f=n(8)?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(t){}return a(e,t)?i(!r.f.call(e,t),e[t]):void 0}},function(e,t,n){var r=n(0),i=n(7),o=n(2);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(e,t,n){var r=n(17),i=n(44),o=n(10),s=n(6),a=n(105);e.exports=function(e,t){var n=1==e,u=4==e,c=6==e,l=t||a;return function(t,a,h){for(var d,f,p=o(t),g=i(p),m=r(a,h,3),v=s(g.length),y=0,b=n?l(t,v):2==e?l(t,0):void 0;v>y;y++)if((5==e||c||y in g)&&(f=m(d=g[y],y,p),e))if(n)b[y]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:b.push(d)}else if(u)return!1;return c?-1:3==e||u?u:b}}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";if(n(8)){var r=n(30),i=n(1),o=n(2),s=n(0),a=n(59),u=n(85),c=n(17),l=n(42),h=n(28),d=n(14),f=n(43),p=n(19),g=n(6),m=n(116),v=n(32),y=n(26),b=n(13),w=n(46),S=n(4),x=n(10),E=n(77),M=n(33),k=n(35),C=n(34).f,O=n(79),_=n(29),A=n(5),T=n(22),I=n(49),P=n(47),N=n(81),R=n(40),F=n(52),L=n(41),B=n(80),j=n(107),D=n(9),U=n(20),V=D.f,z=U.f,G=i.RangeError,H=i.TypeError,W=i.Uint8Array,K="ArrayBuffer",q="Shared"+K,J="BYTES_PER_ELEMENT",Y="prototype",X=Array[Y],$=u.ArrayBuffer,Q=u.DataView,Z=T(0),ee=T(2),te=T(3),ne=T(4),re=T(5),ie=T(6),oe=I(!0),se=I(!1),ae=N.values,ue=N.keys,ce=N.entries,le=X.lastIndexOf,he=X.reduce,de=X.reduceRight,fe=X.join,pe=X.sort,ge=X.slice,me=X.toString,ve=X.toLocaleString,ye=A("iterator"),be=A("toStringTag"),we=_("typed_constructor"),Se=_("def_constructor"),xe=a.CONSTR,Ee=a.TYPED,Me=a.VIEW,ke="Wrong length!",Ce=T(1,(function(e,t){return Ie(P(e,e[Se]),t)})),Oe=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),_e=!!W&&!!W[Y].set&&o((function(){new W(1).set({})})),Ae=function(e,t){var n=p(e);if(0>n||n%t)throw G("Wrong offset!");return n},Te=function(e){if(S(e)&&Ee in e)return e;throw H(e+" is not a typed array!")},Ie=function(e,t){if(!S(e)||!(we in e))throw H("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Ne(P(e,e[Se]),t)},Ne=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},Re=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},Fe=function(e){var t,n,r,i,o,s,a=x(e),u=arguments.length,l=1<u?arguments[1]:void 0,h=void 0!==l,d=O(a);if(null!=d&&!E(d)){for(s=d.call(a),r=[],t=0;!(o=s.next()).done;t++)r.push(o.value);a=r}for(h&&2<u&&(l=c(l,arguments[2],2)),t=0,n=g(a.length),i=Ie(this,n);n>t;t++)i[t]=h?l(a[t],t):a[t];return i},Le=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},Be=!!W&&o((function(){ve.call(new W(1))})),je=function(){return ve.apply(Be?ge.call(Te(this)):Te(this),arguments)},De={copyWithin:function(e,t){return j.call(Te(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return ne(Te(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(){return B.apply(Te(this),arguments)},filter:function(e){return Pe(this,ee(Te(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return re(Te(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ie(Te(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){Z(Te(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return se(Te(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return oe(Te(this),e,1<arguments.length?arguments[1]:void 0)},join:function(){return fe.apply(Te(this),arguments)},lastIndexOf:function(){return le.apply(Te(this),arguments)},map:function(e){return Ce(Te(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(){return he.apply(Te(this),arguments)},reduceRight:function(){return de.apply(Te(this),arguments)},reverse:function(){for(var e,t=this,n=Te(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Te(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return pe.call(Te(this),e)},subarray:function(e,t){var n=Te(this),r=n.length,i=v(e,r);return new(P(n,n[Se]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:v(t,r))-i))}},Ue=function(e,t){return Pe(this,ge.call(Te(this),e,t))},Ve=function(e){Te(this);var t=Ae(arguments[1],1),n=this.length,r=x(e),i=g(r.length),o=0;if(i+t>n)throw G(ke);for(;o<i;)this[t+o]=r[o++]},ze={entries:function(){return ce.call(Te(this))},keys:function(){return ue.call(Te(this))},values:function(){return ae.call(Te(this))}},Ge=function(e,t){return S(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&+t+""==t+""},He=function(e,t){return Ge(e,t=y(t,!0))?h(2,e[t]):z(e,t)},We=function(e,t,n){return!(Ge(e,t=y(t,!0))&&S(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};xe||(U.f=He,D.f=We),s(s.S+s.F*!xe,"Object",{getOwnPropertyDescriptor:He,defineProperty:We}),o((function(){me.call({})}))&&(me=ve=function(){return fe.call(this)});var Ke=f({},De);f(Ke,ze),d(Ke,ye,ze.values),f(Ke,{slice:Ue,set:Ve,constructor:function(){},toString:me,toLocaleString:je}),Re(Ke,"buffer","b"),Re(Ke,"byteOffset","o"),Re(Ke,"byteLength","l"),Re(Ke,"length","e"),V(Ke,be,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",h=i[c],f=h||{},p=h&&k(h),v=!h||!a.ABV,y={},b=h&&h[Y],x=function(n,r){var i=n._d;return i.v["get"+e](r*t+i.o,Oe)},E=function(n,r,i){var o=n._d;u&&(i=0>(i=Math.round(i))?0:255<i?255:255&i),o.v["set"+e](r*t+o.o,i,Oe)},O=function(e,t){V(e,t,{get:function(){return x(this,t)},set:function(e){return E(this,t,e)},enumerable:!0})};v?(h=n((function(e,n,r,i){l(e,h,c,"_d");var o,s,a,u,f=0,p=0;if(S(n)){if(!(n instanceof $||(u=w(n))==K||u==q))return Ee in n?Ne(h,n):Fe.call(h,n);o=n,p=Ae(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw G(ke);if(0>(s=v-p))throw G(ke)}else if((s=g(i)*t)+p>v)throw G(ke);a=s/t}else a=m(n),o=new $(s=a*t);for(d(e,"_d",{b:o,o:p,l:s,e:a,v:new Q(o)});f<a;)O(e,f++)})),b=h[Y]=M(Ke),d(b,"constructor",h)):(!o((function(){h(1)}))||!o((function(){new h(-1)}))||!F((function(e){new h,new h(null),new h(1.5),new h(e)}),!0))&&(h=n((function(e,n,r,i){var o;return l(e,h,c),S(n)?n instanceof $||(o=w(n))==K||o==q?void 0===i?void 0===r?new f(n):new f(n,Ae(r,t)):new f(n,Ae(r,t),i):Ee in n?Ne(h,n):Fe.call(h,n):new f(m(n))})),Z(p===Function.prototype?C(f):C(f).concat(C(p)),(function(e){e in h||d(h,e,f[e])})),h[Y]=b,!r&&(b.constructor=h));var _=b[ye],A=!!_&&("values"==_.name||null==_.name),T=ze.values;d(h,we,!0),d(b,Ee,c),d(b,Me,!0),d(b,Se,h),(u?new h(1)[be]!=c:!(be in b))&&V(b,be,{get:function(){return c}}),y[c]=h,s(s.G+s.W+s.F*(h!=f),y),s(s.S,c,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*o((function(){f.of.call(h,1)})),c,{from:Fe,of:Le}),J in b||d(b,J,t),s(s.P,c,De),L(c),s(s.P+s.F*_e,c,{set:Ve}),s(s.P+s.F*!A,c,ze),r||b.toString==me||(b.toString=me),s(s.P+s.F*o((function(){new h(1).slice()})),c,{slice:Ue}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){b.toLocaleString.call([1,2])}))),c,{toLocaleString:je}),R[c]=A?_:T,r||A||d(b,ye,T)}}else e.exports=function(){}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(29)("meta"),i=n(4),o=n(13),s=n(9).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(2)((function(){return u(Object.preventExtensions({}))})),l=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},function(e){e.exports=!1},function(e,t,n){var r=n(91),i=n(64);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(19),i=Math.max,o=Math.min;e.exports=function(e,t){return 0>(e=r(e))?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(3),i=n(92),o=n(64),s=n(63)("IE_PROTO"),a=function(){},u="prototype",c=function(){var e,t=n(61)("iframe"),r=o.length;for(t.style.display="none",n(65).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null===e?n=c():(a[u]=r(e),n=new a,a[u]=null,n[s]=e),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(91),i=n(64).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(13),i=n(10),o=n(63)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(5)("unscopables"),i=Array.prototype;null==i[r]&&n(14)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(9).f,i=n(13),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(24),o=n(2),s=n(67),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(e,t,n){var i={},a=o((function(){return!!s[e]()||"​"!="​"[e]()})),u=i[e]=a?t(h):s[e];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},h=l.trim=function(e,t){return e=i(e)+"",1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e){e.exports={}},function(e,t,n){"use strict";var r=n(1),i=n(9),o=n(8),s=n(5)("species");e.exports=function(e){var t=r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(23);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(23),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(t){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(3),i=n(18),o=n(5)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r=n(7),i=n(1),o="__core-js_shared__",s=i[o]||(i[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0===t?{}:t)})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(15),i=n(6),o=n(32);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(23);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(t){}return n}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(46),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(109);var r=n(11),i=n(14),o=n(2),s=n(24),a=n(5),u=n(82),c=a("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),h=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t})):void 0;if(!f||!p||"replace"===e&&!l||"split"===e&&!h){var g=/./[d],m=n(s,d,""[e],(function(e,t,n,r,i){return t.exec===u?f&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,e,v),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){var r=n(17),i=n(104),o=n(77),s=n(3),a=n(6),u=n(79),c={},l={};(t=e.exports=function(e,t,n,h,d){var f,p,g,m,v=d?function(){return e}:u(e),y=r(n,h,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=a(e.length);f>b;b++)if((m=t?y(s(p=e[b])[0],p[1]):y(e[b]))===c||m===l)return m}else for(g=v.call(e);!(p=g.next()).done;)if((m=i(g,y,p.value,t))===c||m===l)return m}).BREAK=c,t.RETURN=l},function(e,t,n){var r=n(1).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(11),s=n(43),a=n(27),u=n(56),c=n(42),l=n(4),h=n(2),d=n(52),f=n(38),p=n(68);e.exports=function(e,t,n,g,m,v){var y=r[e],b=y,w=m?"set":"add",S=b&&b.prototype,x={},E=function(e){var t=S[e];o(S,e,"delete"==e||"has"==e?function(e){return(!v||l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||S.forEach&&!h((function(){(new b).entries().next()})))){var M=new b,k=M[w](v?{}:-0,1)!=M,C=h((function(){M.has(1)})),O=d((function(e){new b(e)})),_=!v&&h((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));O||((b=t((function(t,n){c(t,b,e);var r=p(new y,t,b);return null!=n&&u(n,m,r[w],r),r}))).prototype=S,S.constructor=b),(C||_)&&(E("delete"),E("has"),m&&E("get")),(_||k)&&E(w),v&&S.clear&&delete S.clear}else b=g.getConstructor(t,e,m,w),s(b.prototype,n),a.NEED=!0;return f(b,e),x[e]=b,i(i.G+i.W+i.F*(b!=y),x),v||g.setStrong(b,e,m),b}},function(e,t,n){for(var r,i=n(1),o=n(14),s=n(29),a=s("typed_array"),u=s("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,h=0,d=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];h<9;)(r=i[d[h++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return i})),function(t){if("function"==typeof bootstrap)bootstrap("hark",t);else if("object"==typeof exports)e.exports=t();else if("function"==typeof define&&n(332))define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeHark=t}else"undefined"==typeof window?r.hark=t():window.hark=t()}((function(){return function(e,t,n){function r(n,o){if(!t[n]){if(!e[n]){if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=t[n]={exports:{}};e[n][0].call(s.exports,(function(t){var i=e[n][1][t];return r(i||t)}),s,s.exports)}return t[n].exports}for(var i=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t){var n,r=e("wildemitter");"undefined"!=typeof window&&(n=window.AudioContext||window.webkitAudioContext);var i=null;t.exports=function(e,t){var o=new r;if(!n)return o;var s,a,u,c=(t=t||{}).smoothing||.1,l=t.interval||50,h=t.threshold,d=t.play,f=t.history||10,p=!0;i=t.audioContext||i||new n,(u=i.createAnalyser()).fftSize=512,u.smoothingTimeConstant=c,a=new Float32Array(u.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(s=i.createMediaElementSource(e),void 0===d&&(d=!0),h=h||-50):(s=i.createMediaStreamSource(e),h=h||-50),s.connect(u),d&&u.connect(i.destination),o.speaking=!1,o.getThreshold=function(){return h},o.suspend=function(){return i.suspend()},o.resume=function(){return i.resume()},Object.defineProperty(o,"state",{get:function(){return i.state}}),i.onstatechange=function(){o.emit("state_change",i.state)},o.setThreshold=function(e){h=e},o.setInterval=function(e){l=e},o.stop=function(){p=!1,o.emit("volume_change",-100,h),o.speaking&&(o.speaking=!1,o.emit("stopped_speaking")),u.disconnect(),s.disconnect()},o.speakingHistory=[];for(var g=0;g<f;g++)o.speakingHistory.push(0);var m=function(){setTimeout((function(){if(p){var e=function(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4,i=t.length;r<i;r++)t[r]>n&&0>t[r]&&(n=t[r]);return n}(u,a);o.emit("volume_change",e,h);var t=0;if(e>h&&!o.speaking){for(var n=o.speakingHistory.length-3;n<o.speakingHistory.length;n++)t+=o.speakingHistory[n];2<=t&&(o.speaking=!0,o.emit("speaking"))}else if(e<h&&o.speaking){for(n=0;n<o.speakingHistory.length;n++)t+=o.speakingHistory[n];0==t&&(o.speaking=!1,o.emit("stopped_speaking"))}o.speakingHistory.shift(),o.speakingHistory.push(0+(e>h)),m()}}),l)};return m(),o}},{wildemitter:2}],2:[function(e,t){function n(){}t.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e){this.callbacks=this.callbacks||{};var t=3===arguments.length,n=t?arguments[1]:void 0,r=t?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[e]=this.callbacks[e]||[]).push(r),this},t.once=function(e){function t(){n.off(e,t),o.apply(this,arguments)}var n=this,r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return this.on(e,i,t),this},t.releaseGroup=function(e){var t,n,r,i;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,r=(i=this.callbacks[t]).length;n<r;n++)i[n]._groupName===e&&(i.splice(n,1),n--,r--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(n=r.indexOf(t),r.splice(n,1),0===r.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,r,i=[].slice.call(arguments,1),o=this.callbacks[e],s=this.getWildcardCallbacks(e);if(o)for(t=0,n=(r=o.slice()).length;t<n&&r[t];++t)r[t].apply(this,i);if(s)for(n=s.length,t=0,n=(r=s.slice()).length;t<n&&r[t];++t)r[t].apply(this,[e].concat(i));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,r=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[t]));return r}},n.mixin(n)},{}]},{},[1])(1)}));const i=window.hark}).call(this,n(130)(e),n(331))},function(e,t,n){var r=n(4),i=n(1).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(48)("keys"),i=n(29);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(4),i=n(3),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(17)(Function.call,n(20).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(4),i=n(66).set;e.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(19),i=n(24);e.exports=function(e){var t=i(this)+"",n="",o=r(e);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;0<o;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}},function(e){var t=Math.expm1;e.exports=!t||22025.465794806718<t(10)||22025.465794806718>t(10)||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&1e-6>e?e+e*e/2:Math.exp(e)-1}:t},function(e,t,n){var r=n(19),i=n(24);e.exports=function(e){return function(t,n){var o,s,a=i(t)+"",u=r(n),c=a.length;return 0>u||u>=c?e?"":void 0:55296>(o=a.charCodeAt(u))||56319<o||u+1===c||56320>(s=a.charCodeAt(u+1))||57343<s?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(30),i=n(0),o=n(11),s=n(14),a=n(40),u=n(103),c=n(38),l=n(35),h=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),f="keys",p="values",g=function(){return this};e.exports=function(e,t,n,m,v,y,b){u(n,t,m);var w,S,x,E=function(e){return!d&&e in O?O[e]:function(){return new n(this,e)}},M=t+" Iterator",k=v==p,C=!1,O=e.prototype,_=O[h]||O["@@iterator"]||v&&O[v],A=_||E(v),T=v?k?E("entries"):A:void 0,I="Array"==t&&O.entries||_;if(I&&((x=l(I.call(new e)))!==Object.prototype&&x.next&&(c(x,M,!0),!r&&"function"!=typeof x[h]&&s(x,h,g))),k&&_&&_.name!==p&&(C=!0,A=function(){return _.call(this)}),(!r||b)&&(d||C||!O[h])&&s(O,h,A),a[t]=A,a[M]=g,v)if(w={values:k?A:E(p),keys:y?A:E(f),entries:T},b)for(S in w)S in O||o(O,S,w[S]);else i(i.P+i.F*(d||C),t,w);return w}},function(e,t,n){var r=n(75),i=n(24);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return i(e)+""}},function(e,t,n){var r=n(4),i=n(23),o=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0===(t=e[o])?"RegExp"==i(e):!!t)}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(40),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(9),i=n(28);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(46),i=n(5)("iterator"),o=n(40);e.exports=n(7).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(10),i=n(32),o=n(6);e.exports=function(e){for(var t=r(this),n=o(t.length),s=arguments.length,a=i(1<s?arguments[1]:void 0,n),u=2<s?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)t[a++]=e;return t}},function(e,t,n){"use strict";var r=n(36),i=n(108),o=n(40),s=n(15);e.exports=n(73)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(53),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",u=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[a]||0!==t[a]}(),c=void 0!==/()??/.exec("")[1];(u||c)&&(s=function(e){var t,n,s,l,h=this;return c&&(n=new RegExp("^"+h.source+"$(?!\\s)",r.call(h))),u&&(t=h[a]),s=i.call(h,e),u&&s&&(h[a]=h.global?s.index+s[0].length:t),c&&s&&1<s.length&&o.call(s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),e.exports=s},function(e,t,n){"use strict";var r=n(72)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r,i,o,s=n(17),a=n(97),u=n(65),c=n(61),l=n(1),h=l.process,d=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,m=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){b.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete v[e]},"process"==n(23)(h)?r=function(e){h.nextTick(s(b,e,1))}:g&&g.now?r=function(e){g.now(s(b,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",w,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),e.exports={set:d,clear:f}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,s=Array(n),a=8*n-t-1,u=(1<<a)-1,c=u>>1,l=23===t?U(2,-24)-U(2,-77):0,h=0,d=0>e||0===e&&0>1/e?1:0;for((e=D(e))!=e||e===B?(i=e==e?0:1,r=u):(r=V(z(e)/G),1>e*(o=U(2,-r))&&(r--,o*=2),2<=(e+=1<=r+c?l/o:l*U(2,1-c))*o&&(r++,o/=2),r+c>=u?(i=0,r=u):1<=r+c?(i=(e*o-1)*U(2,t),r+=c):(i=e*U(2,c-1)*U(2,t),r=0));8<=t;s[h++]=255&i,i/=256,t-=8);for(r=r<<t|i,a+=t;0<a;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*d,s}function i(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;0<a;l=256*l+e[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=t;0<a;r=256*r+e[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return r?NaN:c?-B:B;r+=U(2,t),l-=s}return(c?-1:1)*r*U(2,l-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function s(e){return[255&e]}function a(e){return[255&e,255&e>>8]}function u(e){return[255&e,255&e>>8,255&e>>16,255&e>>24]}function c(e){return r(e,52,8)}function l(e){return r(e,23,4)}function h(e,t,n){C(e[I],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=M(+n);if(i+t>e[J])throw L(P);var o=e[q]._b,s=i+e[Y],a=o.slice(s,s+t);return r?a:a.reverse()}function f(e,t,n,r,i,o){var s=M(+n);if(s+t>e[J])throw L(P);for(var a=e[q]._b,u=s+e[Y],c=r(+i),l=0;l<t;l++)a[u+l]=c[o?l:t-l-1]}var p=n(1),g=n(8),m=n(30),v=n(59),y=n(14),b=n(43),w=n(2),S=n(42),x=n(19),E=n(6),M=n(116),k=n(34).f,C=n(9).f,O=n(80),_=n(38),A="ArrayBuffer",T="DataView",I="prototype",P="Wrong index!",N=p[A],R=p[T],F=p.Math,L=p.RangeError,B=p.Infinity,j=N,D=F.abs,U=F.pow,V=F.floor,z=F.log,G=F.LN2,H="buffer",W="byteLength",K="byteOffset",q=g?"_b":H,J=g?"_l":W,Y=g?"_o":K;if(v.ABV){if(!w((function(){N(1)}))||!w((function(){new N(-1)}))||w((function(){return new N,new N(1.5),new N(NaN),N.name!=A}))){for(var X,$=(N=function(e){return S(this,N),new j(M(e))})[I]=j[I],Q=k(j),Z=0;Q.length>Z;)(X=Q[Z++])in N||y(N,X,j[X]);m||($.constructor=N)}var ee=new R(new N(2)),te=R[I].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),(ee.getInt8(0)||!ee.getInt8(1))&&b(R[I],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else N=function(e){S(this,N,A);var t=M(e);this._b=O.call(Array(t),0),this[J]=t},R=function(e,t,n){S(this,R,T),S(e,N,T);var r=e[J],i=x(t);if(0>i||i>r)throw L("Wrong offset!");if(i+(n=void 0===n?r-i:E(n))>r)throw L("Wrong length!");this[q]=e,this[Y]=i,this[J]=n},g&&(h(N,W,"_l"),h(R,H,"_b"),h(R,W,"_l"),h(R,K,"_o")),b(R[I],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(d(this,4,e,arguments[1]))},getUint32:function(e){return o(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){f(this,1,e,s,t)},setUint8:function(e,t){f(this,1,e,s,t)},setInt16:function(e,t){f(this,2,e,a,t,arguments[2])},setUint16:function(e,t){f(this,2,e,a,t,arguments[2])},setInt32:function(e,t){f(this,4,e,u,t,arguments[2])},setUint32:function(e,t){f(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){f(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){f(this,8,e,c,t,arguments[2])}});_(N,A),_(R,T),y(R[I],v.VIEW,!0),t[A]=N,t[T]=R},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(121)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(8)&&!n(2)((function(){return 7!=Object.defineProperty(n(61)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),i=n(7),o=n(30),s=n(62),a=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(13),i=n(15),o=n(49)(!1),s=n(63)("IE_PROTO");e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(9),i=n(3),o=n(31);e.exports=n(8)?Object.defineProperties:function(e,t){i(e);for(var n,s=o(t),a=s.length,u=0;a>u;)r.f(e,n=s[u++],t[n]);return e}},function(e,t,n){var r=n(15),i=n(34).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return s.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(8),i=n(31),o=n(50),s=n(45),a=n(10),u=n(44),c=Object.assign;e.exports=!c||n(2)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e){for(var t=a(e),n=arguments.length,c=1,l=o.f,h=s.f;n>c;)for(var d,f=u(arguments[c++]),p=l?i(f).concat(l(f)):i(f),g=p.length,m=0;g>m;)d=p[m++],(!r||h.call(f,d))&&(t[d]=f[d]);return t}:c},function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(18),i=n(4),o=n(97),s=[].slice,a={},u=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("F,a","return new F("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(a.prototype=t.prototype),a}},function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1).parseInt,i=n(39).trim,o=n(67),s=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(e+"",3);return r(n,t>>>0||(s.test(n)?16:10))}:r},function(e,t,n){var r=n(1).parseFloat,i=n(39).trim;e.exports=1/r(n(67)+"-0")==-1/0?r:function(e){var t=i(e+"",3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}},function(e,t,n){var r=n(23);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&1e-8>e?e-e*e/2:Math.log(1+e)}},function(e,t,n){"use strict";var r=n(33),i=n(28),o=n(38),s={};n(14)(s,n(5)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(n){var o=e.return;throw void 0!==o&&r(o.call(e)),n}}},function(e,t,n){var r=n(228);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(18),i=n(10),o=n(44),s=n(6);e.exports=function(e,t,n,a,u){r(t);var c=i(e),l=o(c),h=s(c.length),d=u?h-1:0,f=u?-1:1;if(2>n)for(;;){if(d in l){a=l[d],d+=f;break}if(d+=f,u?0>d:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=d:h>d;d+=f)d in l&&(a=t(a,l[d],d,c));return a}},function(e,t,n){"use strict";var r=n(10),i=n(32),o=n(6);e.exports=[].copyWithin||function(e,t){var n=r(this),s=o(n.length),a=i(e,s),u=i(t,s),c=2<arguments.length?arguments[2]:void 0,l=Math.min((void 0===c?s:i(c,s))-u,s-a),h=1;for(u<a&&a<u+l&&(h=-1,u+=l-1,a+=l-1);0<l--;)u in n?n[a]=n[u]:delete n[a],a+=h,u+=h;return n}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(82);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(8)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(53)})},function(e,t,n){"use strict";var r,i,o,s,a=n(30),u=n(1),c=n(17),l=n(46),h=n(0),d=n(4),f=n(18),p=n(42),g=n(56),m=n(47),v=n(84).set,y=n(248)(),b=n(112),w=n(249),S=n(57),x=n(113),E="Promise",M=u.TypeError,k=u.process,C=k&&k.versions,O=C&&C.v8||"",_=u[E],A="process"==l(k),T=function(){},I=i=b.f,P=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(T,T)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==O.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),N=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{a?(!i&&(2==e._h&&B(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?c(M("Promise-chain cycle")):(o=N(n))?o.call(n,u,c):u(n)):c(r)}catch(t){l&&!s&&l.exit(),c(t)}};n.length>o;)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&F(e)}))}},F=function(e){v.call(u,(function(){var t,n,r,i=e._v,o=L(e);if(o&&(t=w((function(){A?k.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=A||L(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){v.call(u,(function(){var t;A?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),R(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw M("Promise can't be resolved itself");(t=N(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(D,r,1),c(j,r,1))}catch(e){j.call(r,e)}})):(n._v=e,n._s=1,R(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};P||(_=function(e){p(this,_,E,"_h"),f(e),r.call(this);try{e(c(D,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(43)(_.prototype,{then:function(e,t){var n=I(m(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(D,e,1),this.reject=c(j,e,1)},b.f=I=function(e){return e===_||e===s?new o(e):i(e)}),h(h.G+h.W+h.F*!P,{Promise:_}),n(38)(_,E),n(41)(E),s=n(7)[E],h(h.S+h.F*!P,E,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(a||!P),E,{resolve:function(e){return x(a&&this===s?_:this,e)}}),h(h.S+h.F*!(P&&n(52)((function(e){_.all(e).catch(T)}))),E,{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;g(e,!1,(function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then((function(e){u||(u=!0,n[a]=e,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=w((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=i(t),this.reject=i(n)}var i=n(18);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(3),i=n(4),o=n(112);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(9).f,i=n(33),o=n(43),s=n(17),a=n(42),u=n(56),c=n(73),l=n(108),h=n(41),d=n(8),f=n(27).fastKey,p=n(37),g=d?"_s":"size",m=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){a(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=r&&u(r,n,e[c],e)}));return o(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){p(this,t);for(var n,r=s(e,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return p(this,t)[g]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},!e._f&&(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,l(1))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(43),i=n(27).getWeak,o=n(3),s=n(4),a=n(42),u=n(56),c=n(22),l=n(13),h=n(37),d=c(5),f=c(6),p=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return d(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){a(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!s(e))return!1;var n=i(e);return!0===n?g(h(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=i(e);return!0===n?g(h(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){var r=n(19),i=n(6);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(34),i=n(50),o=n(3),s=n(1).Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(6),i=n(69),o=n(24);e.exports=function(e,t,n,s){var a=o(e)+"",u=a.length,c=void 0===n?" ":n+"",l=r(t);if(l<=u||""==c)return a;var h=l-u,d=i.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},function(e,t,n){var r=n(8),i=n(31),o=n(15),s=n(45).f;e.exports=function(e){return function(t){for(var n,a=o(t),u=i(a),c=u.length,l=0,h=[];c>l;)n=u[l++],(!r||s.call(a,n))&&h.push(e?[n,a[n]]:a[n]);return h}}},function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e){e.exports={"border-radius":1,"border-top-left-radius":1,"border-top-right-radius":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"box-shadow":1,order:1,flex:function(e,t){return[t+"box-flex"]},"box-flex":1,"box-align":1,animation:1,"animation-duration":1,"animation-name":1,transition:1,"transition-duration":1,transform:1,"transform-style":1,"transform-origin":1,"backface-visibility":1,perspective:1,"box-pack":1}},function(e){e.exports={animation:1,"column-count":1,columns:1,"font-weight":1,opacity:1,"order  ":1,"z-index":1,zoom:1,flex:1,"box-flex":1,transform:1,perspective:1,"box-pack":1,"box-align":1,colspan:1,rowspan:1}},function(e,t,n){"use strict";n(125);var r=n(321),i=n(128),o=n(127),s=n(129),a=n(326),u=n(327),c=function(e,t,n,i){r(t).forEach((function(t){e[i?i(t):t]=n}))},l={cssUnitless:n(123)},h=function(e,t,n,r){"string"==typeof e&&(e=function(e){e=(e||"").split(";");var t={};return e.forEach((function(e){var n=e.split(":");2==n.length&&(t[n[0].trim()]=n[1].trim())})),t}(e)),(t=t||l).cssUnitless=t.cssUnitless||l.cssUnitless,r=r||{};var d,f,p,g,m,v,y,b,w=t.scope||{},S=null==t.addUnits?!(w&&null!=w.addUnits)||w.addUnits:t.addUnits,x=(null==t.cssUnitless?w?w.cssUnitless:null:t.cssUnitless)||{},E=(t.cssUnit||w?w.cssUnit:null)||"px",M=t.prefixProperties||(w?w.prefixProperties:null)||{},k=t.camelize?o:i;for(p in e)if(s(e,p)){if(g=e[p],f=i(n?n+p:p),d=!1,b=!1,u(g)&&(y=g.call(w||e,g,p,f,e),a(y)&&null!=y.value?(g=y.value,b=y.prefix,f=y.name?i(y.name):f):g=y),v="number"==(m=typeof g)||"string"==m&&""!=g&&1*g==g,null==g||null==f||""===f)continue;if((v||"string"==m)&&(d=!0),!d&&null!=g.value&&g.prefix&&(d=!0,b=g.prefix,g=g.value),d){if(b=b||!!M[f],v&&(g=S&&!(f in x)?g+E:g+""),"border"!=f&&(f.indexOf("border")||~f.indexOf("radius")||~f.indexOf("width"))||!v||(f+="-width"),!f.indexOf("border-radius-")&&(f.replace(/border(-radius)(-(.*))/,(function(e,t,n){var r={"-top":["-top-left","-top-right"],"-left":["-top-left","-bottom-left"],"-right":["-top-right","-bottom-right"],"-bottom":["-bottom-left","-bottom-right"]};n in r?(f=[],r[n].forEach((function(e){f.push("border"+e+t)}))):f="border"+n+t})),Array.isArray(f))){f.forEach((function(e){b?c(r,e,g,k):r[k(e)]=g}));continue}b?c(r,f,g,k):r[k(f)]=g}else h(g,t,f+"-",r)}return r};e.exports=h},function(e,t,n){"use strict";var r=n(126),i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o="undefined"==typeof document?{}:document.documentElement.style,s=function(){var e=function(){for(var e in o)if(i.test(e))return e.match(i)[0];return"WebkitOpacity"in o?"Webkit":"KhtmlOpacity"in o?"Khtml":""}(),t=e.toLowerCase();return{style:e,css:"-"+t+"-",dom:{Webkit:"WebKit",ms:"MS",o:"WebKit"}[e]||r(e)}}();e.exports=s},function(e){"use strict";e.exports=function(e){return e.length?e.charAt(0).toUpperCase()+e.substring(1):e}},function(e,t,n){"use strict";var r=function(e,t){return t?t.toUpperCase():""},i=n(323);e.exports=function(e){return e?e.replace(i,r):""}},function(e,t,n){"use strict";var r=n(324);e.exports=function(e){return r(e).toLowerCase()}},function(e){"use strict";var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){function r(e,t){this._init(e,t)}var i=n(320).string,o=n(329),s=n(330);r.prototype._init=function(e,t){this.container=document.createElement("div"),this.container.id="j3-info-popup";Object.assign({},s.defaultContainerStyles,t||{});var n=i(s.defaultContainerStyles,{addUnits:!0});n&&(this.container.style.cssText=n),(e||document.body).appendChild(this.container)},r.prototype.addPanel=function(e,t){var n=document.createElement("div");if(n.classList.add("panel"),0<this.container.children.length&&(n.style.cssText=i(s.defaultPanelStyles)),e){var r=document.createElement("div");r.style.cssText=i(s.defaultPanelTitleStyles),r.innerText=e,n.appendChild(r)}if(t){var a=document.createElement("div");a.style.cssText=i(s.defaultPanelContentStyles),o.number(t)||o.boolean(t)||o.string(t)?this._generatePrimitive(n,a,t):o.function(t)?this._generateFunction(n,a,t):t.nodeType&&1===t.nodeType?this._generateDOMElement(n,a,t):o.object(t)?this._generateObject(n,a,t):console.error("Unsupported content data type")}this.container.appendChild(n)},r.prototype._generatePrimitive=function(e,t,n){t.innerText=n,e.appendChild(t)},r.prototype._generateFunction=function(e,t,n){e.appendChild(t);var r=function(){var e=n();e?(t.innerText=e,requestAnimationFrame(r)):(t.innerText="void function",console.warn("Detected void return in callback function. Callback function executed only once"))};requestAnimationFrame(r)},r.prototype._generateDOMElement=function(e,t,n){t.innerHTML=n.innerHTML,e.appendChild(t)},r.prototype._generateObject=function(e,t,n){t.innerText=JSON.stringify(n),e.appendChild(t)},e.exports=r},function(e,t,n){"use strict";(function(e){function r(){return o()}n.d(t,"a",(function(){return r}));var i=(e,t,n,r)=>{var o=(t,i,o)=>new r(e=>{null!==o&&(o=n.stringify(o)),e(o)}).then(n=>e(i,{method:t,body:n})).then(e=>e.json()),s=(e,t)=>o(e,t,null),a=s.bind(null,"GET"),u=o.bind(null,"PUT"),c=o.bind(null,"POST"),l=s.bind(null,"DELETE"),h=(e,t)=>(n,...r)=>e(t(n),...r),d=e=>(i,o)=>r.resolve(new t(n.stringify({address:i.slice(e.length),method:o.method,body:n.parse(o.body)})));return{discover:a.bind(null,"https://discovery.meethue.com"),bridge:e=>{var o="http://"+e,s=o+"/api";return{createUser:e=>c(s,{devicetype:e}),user:f=>{Cookies.set("hueid",f,{expires:30});var p=`${s}/${f}`,g=p+"/capabilities",m=p+"/config",v=p+"/lights",y=p+"/groups",b=p+"/schedules",w=p+"/scenes",S=p+"/sensors",x=p+"/rules",E=p+"/resourcelinks",M=e=>t=>`${e}/${t}`,k=M(v),C=M(y),O=M(b),_=M(w),A=M(S),T=M(x),I=M(E);return{getCapabilities:a.bind(null,g),deleteUser:h(l,e=>`${m}/whitelist/${e}`),getConfig:a.bind(null,m),setConfig:u.bind(null,m),getFullState:a.bind(null,p),getLights:a.bind(null,v),getNewLights:a.bind(null,v+"/new"),searchForNewLights:(e=null)=>c(v,e),getLight:h(a,k),setLight:h(u,k),setLightState:h(u,e=>k(e)+"/state"),deleteLight:h(l,k),getGroups:a.bind(null,y),createGroup:c.bind(null,y),getGroup:h(a,C),setGroup:h(u,C),setGroupState:h(u,e=>C(e)+"/action"),deleteGroup:h(l,C),getSchedules:a.bind(null,b),createSchedule:c.bind(null,b),getSchedule:h(a,O),setSchedule:h(u,O),deleteSchedule:h(l,O),scheduleCommandGenerator:()=>i(d(o),t,n,r).bridge(e).user(f),getScenes:a.bind(null,w),createScene:c.bind(null,w),getScene:h(a,_),setScene:h(u,_),setSceneLightState:(e,t,n)=>u(`${_(e)}/lightstates/${t}`,n),deleteScene:h(l,_),getSensors:a.bind(null,S),createSensor:c.bind(null,S),searchForNewSensors:c.bind(null,S,null),getNewSensors:a.bind(null,S+"/new"),getSensor:h(a,A),setSensor:h(u,A),setSensorConfig:h(u,e=>A(e)+"/config"),setSensorState:h(u,e=>A(e)+"/state"),deleteSensor:h(l,A),getRules:a.bind(null,x),createRule:c.bind(null,x),getRule:h(a,T),setRule:h(u,T),deleteRule:h(l,T),ruleActionGenerator:()=>i(d(p),t,n,r).bridge(e).user(f),getResourceLinks:a.bind(null,E),createResourceLink:c.bind(null,E),getResourceLink:h(a,I),setResourceLink:h(u,I),deleteResourceLink:h(l,I)}}}}}};let o;"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"undefined"!=typeof JSON&&"undefined"!=typeof Promise&&(o=i.bind(null,fetch,Response,JSON,Promise),void 0!==e.exports&&(e.exports=o))}).call(this,n(130)(e))},function(e,t,n){function r(e){if(this.support=i.webAudio&&i.mediaStream,this.gain=1,this.support){var t=this.context=new i.AudioContext;this.microphone=t.createMediaStreamSource(e),this.gainFilter=t.createGain(),this.destination=t.createMediaStreamDestination(),this.outputStream=this.destination.stream,this.microphone.connect(this.gainFilter),this.gainFilter.connect(this.destination),e.addTrack(this.outputStream.getAudioTracks()[0]),e.removeTrack(e.getAudioTracks()[0])}this.stream=e}var i=n(333);r.prototype.setGain=function(e){this.support&&(this.gainFilter.gain.value=e,this.gain=e)},r.prototype.getGain=function(){return this.gain},r.prototype.off=function(){return this.setGain(0)},r.prototype.on=function(){this.setGain(1)},e.exports=r},function(e,t,n){"use strict";n(135);var r=function(e){return e&&e.__esModule?e:{default:e}}(n(307));r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},function(e,t,n){"use strict";n(136),n(279),n(281),n(284),n(286),n(288),n(290),n(292),n(294),n(296),n(298),n(300),n(302),n(306)},function(e,t,n){n(137),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(218),n(219),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(81),n(242),n(109),n(243),n(110),n(244),n(245),n(246),n(247),n(111),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),e.exports=n(7)},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(8),s=n(0),a=n(11),u=n(27).KEY,c=n(2),l=n(48),h=n(38),d=n(29),f=n(5),p=n(62),g=n(90),m=n(139),v=n(51),y=n(3),b=n(4),w=n(10),S=n(15),x=n(26),E=n(28),M=n(33),k=n(93),C=n(20),O=n(50),_=n(9),A=n(31),T=C.f,I=_.f,P=k.f,N=r.Symbol,R=r.JSON,F=R&&R.stringify,L="prototype",B=f("_hidden"),j=f("toPrimitive"),D={}.propertyIsEnumerable,U=l("symbol-registry"),V=l("symbols"),z=l("op-symbols"),G=Object[L],H="function"==typeof N&&!!O.f,W=r.QObject,K=!W||!W[L]||!W[L].findChild,q=o&&c((function(){return 7!=M(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(G,t);r&&delete G[t],I(e,t,n),r&&e!==G&&I(G,t,r)}:I,J=function(e){var t=V[e]=M(N[L]);return t._k=e,t},Y=H&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},X=function(e,t,n){return e===G&&X(z,t,n),y(e),t=x(t,!0),y(n),i(V,t)?(n.enumerable?(i(e,B)&&e[B][t]&&(e[B][t]=!1),n=M(n,{enumerable:E(0,!1)})):(!i(e,B)&&I(e,B,E(1,{})),e[B][t]=!0),q(e,t,n)):I(e,t,n)},$=function(e,t){y(e);for(var n,r=m(t=S(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=x(e,!0));return(this!==G||!i(V,e)||i(z,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,B)&&this[B][e])||t)},Z=function(e,t){if(e=S(e),t=x(t,!0),e!==G||!i(V,t)||i(z,t)){var n=T(e,t);return n&&i(V,t)&&!(i(e,B)&&e[B][t])&&(n.enumerable=!0),n}},ee=function(e){for(var t,n=P(S(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==B||t==u||r.push(t);return r},te=function(e){for(var t,n=e===G,r=P(n?z:S(e)),o=[],s=0;r.length>s;)i(V,t=r[s++])&&(!n||i(G,t))&&o.push(V[t]);return o};H||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=d(0<arguments.length?arguments[0]:void 0),t=function(n){this===G&&t.call(z,n),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),q(this,e,E(1,n))};return o&&K&&q(G,e,{configurable:!0,set:t}),J(e)})[L],"toString",(function(){return this._k})),C.f=Z,_.f=X,n(34).f=k.f=ee,n(45).f=Q,O.f=te,o&&!n(30)&&a(G,"propertyIsEnumerable",Q,!0),p.f=function(e){return J(f(e))}),s(s.G+s.W+s.F*!H,{Symbol:N});for(var ne=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],re=0;ne.length>re;)f(ne[re++]);for(var ie=A(f.store),oe=0;ie.length>oe;)g(ie[oe++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=N(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!H,"Object",{create:function(e,t){return void 0===t?M(e):$(M(e),t)},defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var se=c((function(){O.f(1)}));s(s.S+s.F*se,"Object",{getOwnPropertySymbols:function(e){return O.f(w(e))}}),R&&s(s.S+s.F*(!H||c((function(){var e=N();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,F.apply(R,r)}}),N[L][j]||n(14)(N[L],j,N[L].valueOf),h(N,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){e.exports=n(48)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(31),i=n(50),o=n(45);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var s,a=n(e),u=o.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(33)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperty:n(9).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperties:n(92)})},function(e,t,n){var r=n(15),i=n(20).f;n(21)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=n(10),i=n(35);n(21)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(10),i=n(31);n(21)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){n(21)("getOwnPropertyNames",(function(){return n(93).f}))},function(e,t,n){var r=n(4),i=n(27).onFreeze;n(21)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(4),i=n(27).onFreeze;n(21)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(4),i=n(27).onFreeze;n(21)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(4);n(21)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(4);n(21)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(4);n(21)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(94)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(95)})},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(66).set})},function(e,t,n){"use strict";var r=n(46);({})[n(5)("toStringTag")]="z",n(11)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(96)})},function(e,t,n){var r=n(9).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(8)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),i=n(35),o=n(5)("hasInstance"),s=Function.prototype;o in s||n(9).f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(98);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(99);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(23),s=n(68),a=n(26),u=n(2),c=n(34).f,l=n(20).f,h=n(9).f,d=n(39).trim,f="Number",p=r[f],g=p,m=p.prototype,v=o(n(33)(m))==f,y="trim"in String.prototype,b=function(e){var t=a(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var s,u=t.slice(2),c=0,l=u.length;c<l;c++)if(48>(s=u.charCodeAt(c))||s>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof p&&(v?u((function(){m.valueOf.call(n)})):o(n)!=f)?s(new g(b(t)),n,p):b(t)};for(var w,S=n(8)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;S.length>x;x++)i(g,w=S[x])&&!i(p,w)&&h(p,w,l(g,w));p.prototype=m,m.constructor=p,n(11)(r,f,p)}},function(e,t,n){"use strict";var r=n(0),i=n(19),o=n(100),s=n(69),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h="0",d=function(e,t){for(var n=-1,r=t;6>++n;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(e){for(var t=6,n=0;0<=--t;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";0<=--e;)if(""!==t||0==e||0!==c[e]){var n=c[e]+"";t=""===t?n:t+s.call(h,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:1==t%2?g(e,t-1,n*e):g(e*e,t/2,n)};r(r.P+r.F*("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)||!n(2)((function(){a.call({})}))),"Number",{toFixed:function(e){var t,n,r,a,u=o(this,l),c=i(e),m="",v=h;if(0>c||20<c)throw RangeError(l);if(u!=u)return"NaN";if(-1e21>=u||1e21<=u)return u+"";if(0>u&&(m="-",u=-u),1e-21<u)if(n=0>(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(u*g(2,69,1))-69)?u*g(2,-t,1):u/g(2,t,1),n*=4503599627370496,0<(t=52-t)){for(d(0,n),r=c;7<=r;)d(1e7,0),r-=7;for(d(g(10,r,1),0),r=t-1;23<=r;)f(8388608),r-=23;f(1<<r),d(1,1),f(2),v=p()}else d(0,n),d(1<<-t,0),v=p()+s.call(h,c);return 0<c?v=m+((a=v.length)<=c?"0."+s.call(h,c-a)+v:v.slice(0,a-c)+"."+v.slice(a-c)):v=m+v,v}})},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(100),s=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==s.call(1,void 0)}))||!i((function(){s.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:2220446049250313e-31})},function(e,t,n){var r=n(0),i=n(1).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(101)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(101),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&9007199254740991>=o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(99);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(98);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(102),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return 1>(e=+e)?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&0<1/i(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?0>t?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&0>1/i(-0)),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(70);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(71);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(182)})},function(e,t,n){var r=n(70),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*function(e){return e+1/o-1/o}(i/u/s)*u*s:(n=(t=(1+s/o)*i)-(t-i))>a||n!=n?c*(1/0):c*n}},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(){for(var e,t,n=0,r=0,o=arguments.length,s=0;r<o;)s<(e=i(arguments[r++]))?(n=n*(t=s/e)*t+1,s=e):0<e?n+=(t=e/s)*t:n+=e;return s==1/0?1/0:s*Math.sqrt(n)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(2)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(102)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(70)})},function(e,t,n){var r=n(0),i=n(71),o=Math.exp;r(r.S+r.F*n(2)((function(){return!0})),"Math",{sinh:function(e){return 1>Math.abs(e=+e)?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(71),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(32),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(){for(var e,t=[],n=arguments.length,r=0;n>r;){if(e=+arguments[r++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");t.push(65536>e?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return t.join("")}})},function(e,t,n){var r=n(0),i=n(15),o=n(6);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,s=[],a=0;n>a;)s.push(t[a++]+""),a<r&&s.push(arguments[a]+"");return s.join("")}})},function(e,t,n){"use strict";n(39)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){"use strict";var r=n(72)(!0);n(73)(String,"String",(function(e){this._t=e+"",this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(0),i=n(72)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(6),o=n(74),s="endsWith";r(r.P+r.F*n(76)(s),"String",{endsWith:function(e){var t=o(this,e,s),n=1<arguments.length?arguments[1]:void 0,r=i(t.length),a=void 0===n?r:Math.min(i(n),r),u=e+"";return t.slice(a-u.length,a)===u}})},function(e,t,n){"use strict";var r=n(0),i=n(74),o="includes";r(r.P+r.F*n(76)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(69)})},function(e,t,n){"use strict";var r=n(0),i=n(6),o=n(74),s="startsWith";r(r.P+r.F*n(76)(s),"String",{startsWith:function(e){var t=o(this,e,s),n=i(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),r=e+"";return t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(12)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){"use strict";n(12)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){"use strict";n(12)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){"use strict";n(12)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){"use strict";n(12)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){"use strict";n(12)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){"use strict";n(12)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){"use strict";n(12)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){"use strict";n(12)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){"use strict";n(12)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){"use strict";n(12)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){"use strict";n(12)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){"use strict";n(12)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(26);r(r.P+r.F*n(2)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(){var e=i(this),t=o(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,n){var r=n(0),i=n(217);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(2),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(e){return 9<e?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=0>t?"-":9999<t?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(99<n?n:"0"+s(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(11)(r,o,(function(){var e=a.call(this);return e==e?s.call(this):i}))},function(e,t,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(14)(i,r,n(220))},function(e,t,n){"use strict";var r=n(3),i=n(26),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(51)})},function(e,t,n){"use strict";var r=n(17),i=n(0),o=n(10),s=n(104),a=n(77),u=n(6),c=n(78),l=n(79);i(i.S+i.F*!n(52)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,h,d=o(e),f="function"==typeof this?this:Array,p=arguments.length,g=1<p?arguments[1]:void 0,m=void 0!==g,v=0,y=l(d);if(m&&(g=r(g,2<p?arguments[2]:void 0,2)),null==y||f==Array&&a(y))for(n=new f(t=u(d.length));t>v;v++)c(n,v,m?g(d[v],v):d[v]);else for(h=y.call(d),n=new f;!(i=h.next()).done;v++)c(n,v,m?s(h,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(0),i=n(78);r(r.S+r.F*n(2)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(15),o=[].join;r(r.P+r.F*(n(44)!=Object||!n(16)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(65),o=n(23),s=n(32),a=n(6),u=[].slice;r(r.P+r.F*n(2)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=a(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=s(e,n),c=s(t,n),l=a(c-i),h=Array(l),d=0;d<l;d++)h[d]="String"==r?this.charAt(i+d):this[i+d];return h}})},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(10),s=n(2),a=[].sort,u=[1,2,3];r(r.P+r.F*(s((function(){u.sort(void 0)}))||!s((function(){u.sort(null)}))||!n(16)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(22)(0),o=n(16)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(4),i=n(51),o=n(5)("species");e.exports=function(e){var t;return i(e)&&("function"==typeof(t=e.constructor)&&(t===Array||i(t.prototype))&&(t=void 0),r(t)&&(null===(t=t[o])&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(22)(1);r(r.P+r.F*!n(16)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(22)(2);r(r.P+r.F*!n(16)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(22)(3);r(r.P+r.F*!n(16)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(22)(4);r(r.P+r.F*!n(16)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(106);r(r.P+r.F*!n(16)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(106);r(r.P+r.F*!n(16)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(49)(!1),o=[].indexOf,s=!!o&&0>1/[1].indexOf(1,-0);r(r.P+r.F*(s||!n(16)(o)),"Array",{indexOf:function(e){return s?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(15),o=n(19),s=n(6),a=[].lastIndexOf,u=!!a&&0>1/[1].lastIndexOf(1,-0);r(r.P+r.F*(u||!n(16)(a)),"Array",{lastIndexOf:function(e){if(u)return a.apply(this,arguments)||0;var t=i(this),n=s(t.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,o(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(107)}),n(36)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(80)}),n(36)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(22)(5),o="find",s=!0;o in[]&&[,][o]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(36)(o)},function(e,t,n){"use strict";var r=n(0),i=n(22)(6),o="findIndex",s=!0;o in[]&&[,][o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(36)(o)},function(e,t,n){n(41)("Array")},function(e,t,n){var r=n(1),i=n(68),o=n(9).f,s=n(34).f,a=n(75),u=n(53),c=r.RegExp,l=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(n(8)&&(!p||n(2)((function(){return f[n(5)("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")})))){c=function(e,t){var n=this instanceof c,r=a(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(p?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:h,c)};for(var g=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=s(l),v=0;m.length>v;)g(m[v++]);h.constructor=c,c.prototype=h,n(11)(r,"RegExp",c)}n(41)("RegExp")},function(e,t,n){"use strict";n(110);var r=n(3),i=n(53),o=n(8),s="toString",a=/./[s],u=function(e){n(11)(RegExp.prototype,s,e,!0)};n(2)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},function(e,t,n){"use strict";var r=n(3),i=n(6),o=n(83),s=n(54);n(55)("match",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0===i?new RegExp(n)[t](r+""):i.call(n,r)},function(e){var t=a(n,e,this);if(t.done)return t.value;var u=r(e),c=this+"";if(!u.global)return s(u,c);var l=u.unicode;u.lastIndex=0;for(var h,d=[],f=0;null!==(h=s(u,c));){var p=h[0]+"";d[f]=p,""==p&&(u.lastIndex=o(c,i(u.lastIndex),l)),f++}return 0==f?null:d}]}))},function(e,t,n){"use strict";var r=n(3),i=n(10),o=n(6),s=n(19),a=n(83),u=n(54),c=Math.max,l=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:e+""};n(55)("replace",2,(function(e,t,n,g){function m(e,t,r,o,s,a){var u=r+e.length,c=o.length,l=f;return void 0!==s&&(s=i(s),l=d),n.call(a,l,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":a=s[i.slice(1,-1)];break;default:var l=+i;if(0==l)return n;if(l>c){var d=h(l/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}a=o[l-1]}return void 0===a?"":a}))}return[function(r,i){var o=e(this),s=null==r?void 0:r[t];return void 0===s?n.call(o+"",r,i):s.call(r,o,i)},function(e,t){var i=g(n,e,this,t);if(i.done)return i.value;var h=r(e),d=this+"",f="function"==typeof t;f||(t+="");var v=h.global;if(v){var y=h.unicode;h.lastIndex=0}for(var b,w=[];null!==(b=u(h,d))&&(w.push(b),v);){""==b[0]+""&&(h.lastIndex=a(d,o(h.lastIndex),y))}for(var S="",x=0,E=0;E<w.length;E++){for(var M=(b=w[E])[0]+"",k=c(l(s(b.index),d.length),0),C=[],O=1;O<b.length;O++)C.push(p(b[O]));var _=b.groups;if(f){var A=[M].concat(C,k,d);void 0!==_&&A.push(_);var T=t.apply(void 0,A)+""}else T=m(M,d,k,C,_,t);k>=x&&(S+=d.slice(x,k)+T,x=k+M.length)}return S+d.slice(x)}]}))},function(e,t,n){"use strict";var r=n(3),i=n(95),o=n(54);n(55)("search",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0===i?new RegExp(n)[t](r+""):i.call(n,r)},function(e){var t=s(n,e,this);if(t.done)return t.value;var a=r(e),u=this+"",c=a.lastIndex;i(c,0)||(a.lastIndex=0);var l=o(a,u);return i(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},function(e,t,n){"use strict";var r=n(75),i=n(3),o=n(47),s=n(83),a=n(6),u=n(54),c=n(82),l=n(2),h=Math.min,d=[].push,f="split",p="length",g="lastIndex",m=4294967295,v=!l((function(){RegExp(m,"y")}));n(55)("split",2,(function(e,t,n,l){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||1<"."[f](/()()/)[p]||""[f](/.?/)[p]?function(e,t){var i=this+"";if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,s,a,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,f=void 0===t?m:t>>>0,v=new RegExp(e.source,l+"g");(o=c.call(v,i))&&!((s=v[g])>h&&(u.push(i.slice(h,o.index)),1<o[p]&&o.index<i[p]&&d.apply(u,o.slice(1)),a=o[0][p],h=s,u[p]>=f));)v[g]===o.index&&v[g]++;return h===i[p]?(a||!v.test(""))&&u.push(""):u.push(i.slice(h)),u[p]>f?u.slice(0,f):u}:"0"[f](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0===o?y.call(i+"",n,r):o.call(n,i,r)},function(e,t){var r=l(y,e,this,t,y!==n);if(r.done)return r.value;var c=i(e),d=this+"",f=o(c,RegExp),p=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),b=new f(v?c:"^(?:"+c.source+")",g),w=void 0===t?m:t>>>0;if(0==w)return[];if(0===d.length)return null===u(b,d)?[d]:[];for(var S=0,x=0,E=[];x<d.length;){b.lastIndex=v?x:0;var M,k=u(b,v?d:d.slice(x));if(null===k||(M=h(a(b.lastIndex+(v?0:x)),d.length))===S)x=s(d,x,p);else{if(E.push(d.slice(S,x)),E.length===w)return E;for(var C=1;C<=k.length-1;C++)if(E.push(k[C]),E.length===w)return E;x=S=M}}return E.push(d.slice(S)),E}]}))},function(e,t,n){var r=n(1),i=n(84).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(23)(s);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(i){throw e?n():t=void 0,i}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(114),i=n(37),o="Map";e.exports=n(58)(o,(function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(114),i=n(37);e.exports=n(58)("Set",(function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(1),o=n(22)(0),s=n(11),a=n(27),u=n(94),c=n(115),l=n(4),h=n(37),d=n(37),f=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=a.getWeak,m=Object.isExtensible,v=c.ufstore,y=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(e){if(l(e)){var t=g(e);return!0===t?v(h(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(h(this,p),e,t)}},w=e.exports=n(58)(p,y,b,c,!0,!0);d&&f&&(u((r=c.getConstructor(y,p)).prototype,b),a.NEED=!0,o(["delete","has","get","set"],(function(e){var t=w.prototype,n=t[e];s(t,e,(function(t,i){if(l(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},function(e,t,n){"use strict";var r=n(115),i=n(37),o="WeakSet";n(58)(o,(function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(59),o=n(85),s=n(3),a=n(32),u=n(6),c=n(4),l=n(1).ArrayBuffer,h=n(47),d=o.ArrayBuffer,f=o.DataView,p=i.ABV&&l.isView,g=d.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return p&&p(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(2)((function(){return!new d(2).slice(1,void 0).byteLength})),v,{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(s(this),e);for(var n=s(this).byteLength,r=a(e,n),i=a(void 0===t?n:t,n),o=new(h(this,d))(u(i-r)),c=new f(this),l=new f(o),p=0;r<i;)l.setUint8(p++,c.getUint8(r++));return o}}),n(41)(v)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(59).ABV,{DataView:n(85).DataView})},function(e,t,n){n(25)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){n(25)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(25)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(0),i=n(18),o=n(3),s=(n(1).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(2)((function(){s((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return s?s(r,t,u):a.call(r,t,u)}})},function(e,t,n){var r=n(0),i=n(33),o=n(18),s=n(3),a=n(4),u=n(2),c=n(96),l=(n(1).Reflect||{}).construct,h=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),d=!u((function(){l((function(){}))}));r(r.S+r.F*(h||d),"Reflect",{construct:function(e,t){o(e),s(t);var n=3>arguments.length?e:o(arguments[2]);if(d&&!h)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,f=i(a(u)?u:Object.prototype),p=Function.apply.call(e,f,t);return a(p)?p:f}})},function(e,t,n){var r=n(9),i=n(0),o=n(3),s=n(26);i(i.S+i.F*n(2)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=s(t,!0),o(n);try{return r.f(e,t,n),!0}catch(t){return!1}}})},function(e,t,n){var r=n(0),i=n(20).f,o=n(3);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return(!n||n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(103)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(20),i=n(35),o=n(13),s=n(0),a=n(4),u=n(3);s(s.S,"Reflect",{get:function e(t,n){var s,c,l=3>arguments.length?t:arguments[2];return u(t)===l?t[n]:(s=r.f(t,n))?o(s,"value")?s.value:void 0===s.get?void 0:s.get.call(l):a(c=i(t))?e(c,n,l):void 0}})},function(e,t,n){var r=n(20),i=n(0),o=n(3);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(35),o=n(3);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(3),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(117)})},function(e,t,n){var r=n(0),i=n(3),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(9),i=n(20),o=n(35),s=n(13),a=n(0),u=n(28),c=n(3),l=n(4);a(a.S,"Reflect",{set:function e(t,n,a){var h,d,f=4>arguments.length?t:arguments[3],p=i.f(c(t),n);if(!p){if(l(d=o(t)))return e(d,n,a,f);p=u(0)}if(s(p,"value")){if(!1===p.writable||!l(f))return!1;if(h=i.f(f,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=a,r.f(f,n,h)}else r.f(f,n,u(0,a));return!0}return void 0!==p.set&&(p.set.call(f,a),!0)}})},function(e,t,n){var r=n(0),i=n(66);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(t){return!1}}})},function(e,t,n){n(280),e.exports=n(7).Array.includes},function(e,t,n){"use strict";var r=n(0),i=n(49)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(36)("includes")},function(e,t,n){n(282),e.exports=n(7).Array.flatMap},function(e,t,n){"use strict";var r=n(0),i=n(283),o=n(10),s=n(6),a=n(18),u=n(105);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return a(e),t=s(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(36)("flatMap")},function(e,t,n){"use strict";var r=n(51),i=n(4),o=n(6),s=n(17),a=n(5)("isConcatSpreadable");e.exports=function e(t,n,u,c,l,h,d,f){for(var p,g,m=l,v=0,y=!!d&&s(d,f,3);v<c;){if(v in u){if(p=y?y(u[v],v,n):u[v],g=!1,i(p)&&(g=void 0===(g=p[a])?r(p):!!g),g&&0<h)m=e(t,n,p,o(p.length),m,h-1)-1;else{if(9007199254740991<=m)throw TypeError();t[m]=p}m++}v++}return m}},function(e,t,n){n(285),e.exports=n(7).String.padStart},function(e,t,n){"use strict";var r=n(0),i=n(118),o=n(57),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,n){n(287),e.exports=n(7).String.padEnd},function(e,t,n){"use strict";var r=n(0),i=n(118),o=n(57),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,n){n(289),e.exports=n(7).String.trimLeft},function(e,t,n){"use strict";n(39)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,n){n(291),e.exports=n(7).String.trimRight},function(e,t,n){"use strict";n(39)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,n){n(293),e.exports=n(62).f("asyncIterator")},function(e,t,n){n(90)("asyncIterator")},function(e,t,n){n(295),e.exports=n(7).Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(0),i=n(117),o=n(15),s=n(20),a=n(78);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=s.f,c=i(r),l={},h=0;c.length>h;)void 0!==(n=u(r,t=c[h++]))&&a(l,t,n);return l}})},function(e,t,n){n(297),e.exports=n(7).Object.values},function(e,t,n){var r=n(0),i=n(119)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){n(299),e.exports=n(7).Object.entries},function(e,t,n){var r=n(0),i=n(119)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";n(111),n(301),e.exports=n(7).Promise.finally},function(e,t,n){"use strict";var r=n(0),i=n(7),o=n(1),s=n(47),a=n(113);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){n(303),n(304),n(305),e.exports=n(7)},function(e,t,n){var r=n(1),i=n(0),o=n(57),s=[].slice,a=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=2<arguments.length,i=!!r&&s.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(0),i=n(84);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(81),i=n(31),o=n(11),s=n(1),a=n(14),u=n(40),c=n(5),l=c("iterator"),h=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),g=0;g<p.length;g++){var m,v=p[g],y=f[v],b=s[v],w=b&&b.prototype;if(w&&(w[l]||a(w,l,d),w[h]||a(w,h,v),u[v]=d,y))for(m in r)w[m]||o(w,m,r[m],!0)}},function(e){var t=function(e){"use strict";function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,s=Object.create(o.prototype),a=new f(r||[]);return s._invoke=c(e,n,a),s}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function s(){}function a(e){["next","throw","return"].forEach((function(n){t(e,n,(function(e){return this._invoke(n,e)}))}))}function u(e,t){function n(i,o,s,a){var u=r(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&v.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(l).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function c(e,t,n){var i=x;return function(o,s){if(i===M)throw new Error("Generator is already running");if(i===k){if("throw"===o)throw s;return{value:void 0,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var u=l(a,n);if(u){if(u===C)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===x)throw i=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=M;var c=r(e,t,n);if("normal"===c.type){if(i=n.done?k:E,c.arg===C)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=k,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,l(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,C;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,C):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function p(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:void 0,done:!0}}var m=Object.prototype,v=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var x="suspendedStart",E="suspendedYield",M="executing",k="completed",C={},O={};O[b]=function(){return this};var _=Object.getPrototypeOf,A=_&&_(_(p([])));A&&A!==m&&v.call(A,b)&&(O=A);var T=s.prototype=i.prototype=Object.create(O);return o.prototype=T.constructor=s,s.constructor=o,o.displayName=t(s,S,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,t(e,S,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},a(u.prototype),u.prototype[w]=function(){return this},e.AsyncIterator=u,e.async=function(t,r,i,o,s){void 0===s&&(s=Promise);var a=new u(n(t,r,i,o),s);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},a(T),t(T,S,"Generator"),T[b]=function(){return this},T.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=v.call(i,"catchLoc"),a=v.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,C):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if((t=this.tryEntries[n]).finallyLoc===e)return this.complete(t.completion,t.afterLoc),d(t),C},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if((t=this.tryEntries[n]).tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;d(t)}return i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),C}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},function(e,t,n){n(308),e.exports=n(120).global},function(e,t,n){var r=n(309);r(r.G,{global:n(86)})},function(e,t,n){var r=n(86),i=n(120),o=n(310),s=n(312),a=n(319),u="prototype",c=function(e,t,n){var l,h,d,f=e&c.F,p=e&c.G,g=e&c.S,m=e&c.P,v=e&c.B,y=e&c.W,b=p?i:i[t]||(i[t]={}),w=b[u],S=p?r:g?r[t]:(r[t]||{})[u];for(l in p&&(n=t),n)(h=!f&&S&&void 0!==S[l])&&a(b,l)||(d=h?S[l]:n[l],b[l]=p&&"function"!=typeof S[l]?n[l]:v&&h?o(d,r):y&&S[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[u]=e[u],t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[l]=d,e&c.R&&w&&!w[l]&&s(w,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(311);e.exports=function(e,t,n){return r(e),void 0===t?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,i){return e.call(t,n,r,i)}:function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(313),i=n(318);e.exports=n(88)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(314),i=n(315),o=n(317),s=Object.defineProperty;t.f=n(88)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return s(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(87);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(88)&&!n(121)((function(){return 7!=Object.defineProperty(n(316)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(87),i=n(86).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(87);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){"use strict";e.exports={prefixProperties:n(122),cssUnitless:n(123),object:n(124),string:n(328)}},function(e,t,n){e.exports=n(322)()},function(e,t,n){"use strict";var r=n(127),i=n(128),o=n(325),s=n(126),a=n(125),u=n(122),c="undefined"==typeof document?{}:document.documentElement.style;e.exports=function(e){return function(t,n){n=n||{};var l=o(r(t)),h=i(t),d=e?l:h,f=a.style?e?a.style:a.css:"";if(l in c)return n.asString?d:[d];var p=d,g=u[h],m=[];if(e&&(p=s(d)),"function"==typeof g){var v=g(d,f)||[];v&&!Array.isArray(v)&&(v=[v]),v.length&&(v=v.map((function(t){return e?o(r(t)):i(t)}))),m=m.concat(v)}return f&&m.push(f+p),m.push(d),n.asString||1==m.length?m[0]:m}}},function(e){e.exports=/[-\s]+(.)?/g},function(e){"use strict";var t=/::/g,n=/([A-Z]+)([A-Z][a-z])/g,r=/([a-z\d])([A-Z])/g,i=/_/g;e.exports=function(e,o){return e?e.replace(t,"/").replace(n,"$1_$2").replace(r,"$1_$2").replace(i,o||"-"):""}},function(e){"use strict";e.exports=function(e){return e.length?e.charAt(0).toLowerCase()+e.substring(1):e}},function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){return!!e&&"[object Object]"===t.call(e)}},function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){return"[object Function]"===t.apply(e)}},function(e,t,n){"use strict";var r=n(124),i=n(129);e.exports=function(e,t){e=r(e,t);var n,o=[];for(n in e)i(e,n)&&o.push(n+": "+e[n]);return o.join("; ")}},function(e,t,n){var r;!function(){"use strict";function i(e){return null!=e}function o(e){return"number"==typeof e&&e>V&&e<z}function s(e){return"number"==typeof e&&0==e%1}function a(e,t){return o(e)&&e>t}function u(e,t){return o(e)&&e<t}function c(e,t){return o(e)&&e>=t}function l(e,t){return o(e)&&e<=t}function h(e){return"string"==typeof e}function d(e){return h(e)&&""!==e}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function p(e,t){try{return e instanceof t}catch(e){return!1}}function g(e){return G(e)}function m(e){return i(e)&&c(e.length,0)}function v(e){return"function"==typeof e}function y(e,t){var n;for(n=0;n<e.length;n+=1)if(e[n]===t)return t;return!t}function b(e,t){var n,r;for(n in e)if(e.hasOwnProperty(n)){if(f(r=e[n])&&b(r,t)===t)return t;if(r===t)return t}return!t}function w(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function S(e,t){return function(){return x(e,arguments,t)}}function x(e,t,n){var r=e.l||e.length,i=t[r],o=t[r+1];return E(e.apply(null,t),d(i)?i:n,v(o)?o:TypeError),t[0]}function E(e,t,n){if(e)return e;throw new(n||Error)(t||"Assertion failed")}function M(e){var t=function(){return k(e.apply(null,arguments))};return t.l=e.length,t}function k(e){return!e}function C(e,t,n){var r=function(){var r,o;if(r=arguments[0],"maybe"===e&&B.assigned(r))return!0;if(!t(r))return!1;r=O(t,r),o=U.call(arguments,1);try{r.forEach((function(t){if(("maybe"!==e||i(t))&&!n.apply(null,[t].concat(o)))throw 0}))}catch(e){return!1}return!0};return r.l=n.length,r}function O(e,t){return e===m?U.call(t):e===f?Object.keys(t).map((function(e){return t[e]})):t}function _(e,t){return A([e,R,t])}function A(e){var t,n,r,i;return t=e.shift(),n=e.pop(),r=e.pop(),i=n||{},Object.keys(r).forEach((function(n){Object.defineProperty(i,n,{configurable:!1,enumerable:!0,writable:!1,value:t.apply(null,e.concat(r[n],N[n]))})})),i}function T(e,t){return A([e,t,null])}function I(e,t){D.forEach((function(n){e[n].of=T(t,R[n].of)}))}var P,N,R,F,L,B,j,D,U,V,z,G,H;P={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},N={},R={},[{n:"equal",f:function(e,t){return e===t},s:"v"},{n:"undefined",f:function(e){return void 0===e},s:"v"},{n:"null",f:function(e){return null===e},s:"v"},{n:"assigned",f:i,s:"v"},{n:"primitive",f:function(e){var t;return!(null!=e&&!1!==e&&!0!==e)||("string"===(t=typeof e)||"number"===t||H&&"symbol"===t)},s:"v"},{n:"includes",f:function(e,t){var n,r,o,s,a;if(!i(e))return!1;if(H&&e[Symbol.iterator]&&v(e.values)){n=e.values();do{if((r=n.next()).value===t)return!0}while(!r.done);return!1}for(s=(o=Object.keys(e)).length,a=0;a<s;++a)if(e[o[a]]===t)return!0;return!1},s:"v"},{n:"zero",f:function(e){return 0===e}},{n:"infinity",f:function(e){return e===V||e===z}},{n:"number",f:o},{n:"integer",f:s},{n:"even",f:function(e){return"number"==typeof e&&0==e%2}},{n:"odd",f:function(e){return s(e)&&0!=e%2}},{n:"greater",f:a},{n:"less",f:u},{n:"between",f:function(e,t,n){return t<n?a(e,t)&&e<n:u(e,t)&&e>n}},{n:"greaterOrEqual",f:c},{n:"lessOrEqual",f:l},{n:"inRange",f:function(e,t,n){return t<n?c(e,t)&&e<=n:l(e,t)&&e>=n}},{n:"positive",f:function(e){return a(e,0)}},{n:"negative",f:function(e){return u(e,0)}},{n:"string",f:h,s:"s"},{n:"emptyString",f:function(e){return""===e},s:"s"},{n:"nonEmptyString",f:d,s:"s"},{n:"contains",f:function(e,t){return h(e)&&-1!==e.indexOf(t)},s:"s"},{n:"match",f:function(e,t){return h(e)&&!!e.match(t)},s:"s"},{n:"boolean",f:function(e){return!1===e||!0===e},s:"b"},{n:"object",f:f,s:"o"},{n:"emptyObject",f:function(e){return f(e)&&0===Object.keys(e).length},s:"o"},{n:"nonEmptyObject",f:function(e){return f(e)&&0<Object.keys(e).length},s:"o"},{n:"instanceStrict",f:p,s:"t"},{n:"instance",f:function(e,t){try{return p(e,t)||e.constructor.name===t.name||Object.prototype.toString.call(e)==="[object "+t.name+"]"}catch(e){return!1}},s:"t"},{n:"like",f:function e(t,n){for(var r in n)if(n.hasOwnProperty(r)){if(!1===t.hasOwnProperty(r)||typeof t[r]!=typeof n[r])return!1;if(f(t[r])&&!1===e(t[r],n[r]))return!1}return!0},s:"t"},{n:"array",f:g,s:"a"},{n:"emptyArray",f:function(e){return g(e)&&0===e.length},s:"a"},{n:"nonEmptyArray",f:function(e){return g(e)&&a(e.length,0)},s:"a"},{n:"arrayLike",f:m,s:"al"},{n:"iterable",f:function(e){return H?i(e)&&v(e[Symbol.iterator]):m(e)},s:"i"},{n:"date",f:function(e){return p(e,Date)&&s(e.getTime())},s:"d"},{n:"function",f:v,s:"f"},{n:"hasLength",f:function(e,t){return i(e)&&e.length===t},s:"l"}].map((function(e){var t=e.n;N[t]="Invalid "+P[e.s||"n"],R[t]=e.f})),F={apply:function(e,t){return L.array(e),v(t)?e.map((function(e){return t(e)})):(L.array(t),L.hasLength(e,t.length),e.map((function(e,n){return t[n](e)})))},map:function(e,t){return L.object(e),v(t)?function(e,t){var n={};return Object.keys(e).forEach((function(r){n[r]=t(e[r])})),n}(e,t):(L.object(t),function e(t,n){var r={};return Object.keys(n).forEach((function(i){var o=n[i];v(o)?B.assigned(t)?r[i]=!!o.m:r[i]=o(t[i]):f(o)&&(r[i]=e(t[i],o))})),r}(e,t))},all:function(e){return g(e)?y(e,!1):(L.object(e),b(e,!1))},any:function(e){return g(e)?y(e,!0):(L.object(e),b(e,!0))}},D=["array","arrayLike","iterable","object"],U=Array.prototype.slice,V=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY,G=Array.isArray,H="function"==typeof Symbol,F=w(F,R),L=_(S,E),B=_(M,k),j=_((function(e){var t=function(){return!!B.assigned(arguments[0])||e.apply(null,arguments)};return t.l=e.length,t.m=!0,t}),(function(e){return!(!1!==i(e))||e})),L.not=T(S,B),L.maybe=T(S,j),D.forEach((function(e){R[e].of=A([C.bind(null,null),R[e],R,null])})),I(L,S),I(B,M),D.forEach((function(e){j[e].of=A([C.bind(null,"maybe"),R[e],R,null]),L.maybe[e].of=T(S,j[e].of),L.not[e].of=T(S,B[e].of)})),function(i){void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}(w(F,{assert:L,not:B,maybe:j}))}()},function(e){e.exports={defaultContainerStyles:{backgroundColor:"rgba(0,0,0,0.8)",minWidth:100,minHeight:45,position:"fixed",top:10,right:10,padding:15,fontSize:16,color:"white",borderRadius:3,boxShadow:"0px 0px 7px 2px rgba(0,0,0,0.2)",fontFamily:"sans-serif"},defaultPanelStyles:{borderTop:"1px solid #4a4444",marginTop:5,paddingTop:5},defaultPanelTitleStyles:{color:"#b1b0b0"},defaultPanelContentStyles:{fontSize:12}}},function(e){var t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e){(function(t){e.exports=t}).call(this,{})},function(e){var t,n;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(t="moz",n=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(t="webkit",n=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var r=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=window.mozRTCIceCandidate||window.RTCIceCandidate,o=window.mozRTCSessionDescription||window.RTCSessionDescription,s=window.webkitMediaStream||window.MediaStream,a="https:"===window.location.protocol&&("webkit"===t&&26<=n||"moz"===t&&33<=n),u=window.AudioContext||window.webkitAudioContext,c=document.createElement("video"),l=c&&c.canPlayType&&"probably"===c.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;e.exports={prefix:t,browserVersion:n,support:!!r&&l&&!!h,supportRTCPeerConnection:!!r,supportVp8:l,supportGetUserMedia:!!h,supportDataChannel:!!(r&&r.prototype&&r.prototype.createDataChannel),supportWebAudio:!(!u||!u.prototype.createMediaStreamSource),supportMediaStream:!(!s||!s.prototype.removeTrack),supportScreenSharing:!!a,dataChannel:!!(r&&r.prototype&&r.prototype.createDataChannel),webAudio:!(!u||!u.prototype.createMediaStreamSource),mediaStream:!(!s||!s.prototype.removeTrack),screenSharing:!!a,AudioContext:u,PeerConnection:r,SessionDescription:o,IceCandidate:i,MediaStream:s,getUserMedia:h}},function(e,t,n){"use strict";function r(e,t,n){if(e in ue)for(let n,r=0;r<ue[e].length;r++)n=ue[e][r],n.element.setAttribute(n.att,t);else{l("Building property cache for "+e);let i=[];(function t(r){if(r.children.length)for(let o=0;o<r.children.length;o++){t(r.children[o]);let s=r.children[o].attributes;for(let t,a=0;a<s.length;a++)t=s[a],-1!==t.value.indexOf(e)&&(r.children[o].removeAttribute(t.name),i.push({element:r.children[o],att:n}))}})(document),ue[e]=i,r(e,t)}}function i(e,t,n=!1,r=!1){function i(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(e in ae&&!r)for(let r=0;r<ae[e].length;r++)if(n&&"RAW"===ae[e][r].parentElement.tagName){let n=ae[e][r].parentElement;for(;n.hasChildNodes();)n.removeChild(n.childNodes[0]);let i=o(t);for(let t=0;t<i.length;t++)n.appendChild(i[t]),ae[e][r]=n.childNodes[0]}else ae[e][r].nodeValue=t;else l("Building element cache for "+e),function(){var e=[];return function t(n){if(n.childNodes.length)for(var r=0;r<n.childNodes.length;r++)t(n.childNodes[r]);else n.nodeType===Node.TEXT_NODE&&e.push(n)}(document),e}().forEach((function(r){if(-1!==r.nodeValue.indexOf(e)){let s=ae[e];if(null==s&&(s=[]),n&&"RAW"===r.parentElement.tagName){let n=r.parentElement;for(;n.hasChildNodes();)n.removeChild(n.childNodes[0]);let s=o(r.nodeValue.replace(new RegExp(i(e),"g"),t));for(let e=0;e<s.length;e++)n.appendChild(s[e]),r=n.childNodes[0]}else r.nodeValue=r.nodeValue.replace(new RegExp(i(e),"g"),t);s.push(r),ae[e]=s}}))}function o(e){var t=document.createElement("template");return t.innerHTML=e,t.content.childNodes}function s(e){window.requestAnimationFrame((function(){window.requestAnimationFrame(e)}))}function a(){window.debugUi=new se.a(document.body,{zIndex:999999999,backgroundColor:"black"}),s(()=>{document.getElementById("j3-info-popup").style.zIndex=99999999,document.getElementById("j3-info-popup").style.backgroundColor="black"}),window.debugUi.addPanel(ce.BUILD,()=>wt.build+" by "+wt.compiler+" "+wt.envDescription);for(let e=0;e<de.length;e++)de[e]();if(!le){le=!0;for(let e=0;e<he.length;e++)he[e]()}l("Enabling debug mode")}function u(e){return le?(!wt.isProd&&e(),void de.push(e)):void he.push(e)}function c(e){wt.isProd||l(e)}function l(e){console.log("[OpenAudioMc] "+e),fe.push(e),7<fe.length&&fe.shift()}function h(e){let t=document.querySelectorAll("[data-type=card]");for(let e of t)e.style.display="none";document.getElementById(e).style.display=""}function d(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e+=""),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Se.iterable&&(t[Symbol.iterator]=function(){return t}),t}function g(e){this.map={},e instanceof g?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Se.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Se.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Se.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Se.arrayBuffer&&Se.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Se.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Ee(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Se.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Se.blob&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=v(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=Array(t.length),r=0;r<t.length;r++)n[r]=te(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Se.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}function S(e,t){var n=(t=t||{}).body;if(e instanceof S){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new g(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||!t.headers&&this.headers||(this.headers=new g(t.headers)),this.method=function(e){var t=e.toUpperCase();return-1<Me.indexOf(t)?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function E(e){var t=new g;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function M(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new g(t.headers),this.url=t.url||"",this._initBody(e)}function k(e,t){return new Promise((function(n,r){function i(){s.abort()}var o=new S(e,t);if(o.signal&&o.signal.aborted)return r(new Ce("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:E(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;n(new M(t,e))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.onabort=function(){r(new Ce("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&Se.blob&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",i),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",i)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}function C(e){l(e)}function O(e,t,n){k(Oe.ERROR_REPORTING,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:t,message:"build 812: "+e})}).then(e=>{null!=n&&n(),e.json().then(e=>{console.log("Reported error. Reponse was: "+JSON.stringify(e))})}).catch(()=>{console.log("An error occoured while reporting another error. Weird.")})}async function _(e,t){const n=t.media.loop,r=t.media.startInstant,i=t.media.mediaId,o=t.media.source,s=t.media.doPickup,a=t.media.fadeTime,u=t.distance,c=t.media.flag,l=t.maxDistance;let h=100;null!=t.media.volume&&0!=t.media.volume&&(h=t.media.volume),e.getMediaManager().destroySounds(i,!1,!0);const d=new we(i);d.trackable=!0;const f=new Ne;if(f.openAudioMc=e,f.setOa(e),await f.load(o),e.getMediaManager().mixer.addChannel(d),d.addSound(f),d.setChannelVolume(0),f.setLooping(n),d.setTag(i),0!==l){let e=this.convertDistanceToVolume(l,u);d.setTag("SPECIAL"),d.maxDistance=l,d.fadeChannel(e,a)}else d.setTag("DEFAULT"),setTimeout(()=>{0===a?(d.setChannelVolume(h),d.updateFromMasterVolume()):(d.updateFromMasterVolume(),d.fadeChannel(h,a))},1);d.setTag(c),e.getMediaManager().mixer.updateCurrent(),f.finalize().then(()=>{s&&f.startDate(r,!0),f.finish()})}function A(e,t){const n=t.message;e.notificationModule.sendNotification(t.title,n),new ye("#alert-area",{closeTime:3e4,persistent:!1,hideCloseButton:!1}).show(t.title+"<hr />"+n)}function T(e,t){const n=parseInt(t.protocolRevision);if(l("Received PROTOCOL revision update"),2<=n&&(l("PROTO rev => 2, enabling callbacks"),e.socketModule.callbacksEnabled=!0),3<=n&&(l("PROTO rev => 3, enabling youtube callbacks"),e.socketModule.supportsYoutube=!0),4<=n&&(l("PROTO rev => 4, enabling volume callbacks"),e.mediaManager.startVolumeWatcher(e)),3>n){new ye("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show('<div style="text-align: center;"><b>Warning!</b> Your installation of OpenAudioMc seems to be pretty outdated. Please download the most recent version from Spigot and install it in your server.<br/><br/><a href="https://www.spigotmc.org/resources/openaudiomc-music-speakers-regions-bungeecord.30691/" class="alert-message-button">Download page</a></div>')}}function I(e,t){const n=t.volume;e.getMediaManager().setMasterVolume(n),document.getElementById("volume-slider").value=n}function P(e,t){e.getMediaManager().destroySounds(t.soundId,t.all,!1,t.fadeTime)}function N(e,t){const n=t.lights,r=t.hueColor,i="rgba("+r.r+","+r.g+","+r.b+","+function(e,t,n){return(e-t[0])*(n[1]-n[0])/(t[1]-t[0])+n[0]}(r.bir,[0,255],[0,1])+")";e.getHueModule().isLinked&&e.getHueModule().setLight(n,i)}function R(e,t){function n(e,t){return re((e-t)/e*100)}const r=t.mediaOptions.target,i=t.mediaOptions.fadeTime,o=t.mediaOptions.distance;for(let t of e.getMediaManager().mixer.getChannels())t.hasTag(r)&&t.fadeChannel(n(t.maxDistance,o),i)}function F(e,t){const n=t.x,r=t.y,i=t.z,o=t.pitch,s=t.yaw;e.world.player.updateLocation(new Be(n,r,i),o,s)}function L(e,t){const n=t.clientSpeaker,r=new Be(n.location.x,n.location.y,n.location.z).add(.5,.5,.5),i=new je(n.id,n.source,r,n.type,n.maxDistance,n.startInstant,e);e.world.addSpeaker(n.id,i)}function B(e,t){const n=t.clientSpeaker;e.world.removeSpeaker(n.id)}function j(e,t){if(t.clear)l("Clearing pre-fetched resources"),setTimeout((function(){Ie={}}),2500);else{let e=t.source;l("Pre-fetching resource.."),setTimeout((function(){!async function(e){e=await Pe.translate(e);let t=new Audio;t.autoplay=!1,t.src=e,t.load(),Ie[e]=t}(e)}),2500)}}function D(e,t={}){let n="",r="",i="",o=0;return t.title&&t.title,t.primary&&(r=t.primary),t.secondary&&(i=t.secondary),t.wait&&(o=t.wait),V(e,r,i),document.getElementById("my-modal-2").checked=!0,function(e){document.getElementById("modal-primary").onclick=e}(U),0===o?null:new Promise(e=>{0===o?e():setTimeout(e,o)})}function U(){document.getElementById("my-modal-2").checked=!1}function V(e,t="",n=""){i("{{ modal.content }}",e,!0),i("{{ modal.primary }}",t,!0),i("{{ modal.secondary }}",n,!0),document.getElementById("modal-primary").style.display=""===t?"none":"",document.getElementById("modal-secondary").style.display=""===n?"none":""}function z(e,t){return null==RTCPeerConnection?void D("Your browser doesn't  support WebRTC, or it could be that a plugin or manual setting disabled it. OpenAudioMc promises only to use WebRTC for its intended purposes (serve media). Please check your browser settings and plugins, and then try again once you enabled it.",{title:"WebRTC error!",icon:"error"}).then(()=>{}):void e.voiceModule.enable(t.streamServer,t.streamKey,t.radius)}function G(e,t){e.voiceModule.addPeer(t.targetUuid,t.targetPlayerName,t.targetStreamKey,t.location)}function H(e,t){null==t.streamKey?e.voiceModule.removeAllPeers():e.voiceModule.removePeer(t.streamKey)}function W(e,t){for(let n,r=0;r<t.updateSet.length;r++)n=t.updateSet[r],e.voiceModule.peerLocationUpdate(n.streamKey,n.x,n.y,n.z)}function K(){(0,document.getElementById("vc-mic-mute").onmousedown)()}function q(e,t){t.blurred?e.voiceModule.blurWithReason():e.voiceModule.unblur()}function J(e,t){function n(e,t){let n=0,i=t||e.innerHTML,o=i.length;Ve.push(window.setInterval((function(){n>=o&&(n=0),i=r(i,n),e.innerHTML=i,n++}),0))}function r(e,t){let n=te(function(e,t){return ie(Math.random()*(t-e+1))+e}(64,90));return e.substr(0,t)+n+e.substr(t+1,e.length)}let i,o,s=t.childNodes.length;if(-1<e.indexOf("<br>")){t.innerHTML=e;for(let e=0;e<s;e++)o=t.childNodes[e],3===o.nodeType&&(i=document.createElement("span"),i.innerHTML=o.nodeValue,t.replaceChild(i,o),n(i))}else n(t,e)}function Y(e,t){let n=t.length,r=document.createElement("span"),i=!1;for(let o=0;o<n;o++)r.style.cssText+=ze[t[o]]+";","§k"===t[o]&&(J(e,r),i=!0);return i||(r.innerHTML=e),r}function X(e,t,n,i){k("https://cloud.openaudiomc.net/api/v3/account-services/client/login/"+i.publicServerKey).then((function(i){i.json().then(i=>{function o(e){r("{{ oam.side_image }}",e),r("{{ oam.bg_image_map }}","--bg-map:url('"+e+"');")}function s(t){document.documentElement.style.setProperty("--border-color-dark",t);let n=function(e,t){const n=e.replace("#","");return`rgba(${parseInt(n.substring(0,2),16)},${parseInt(n.substring(2,4),16)},${parseInt(n.substring(4,6),16)},${t/100})`}(t,40);document.documentElement.style.setProperty("--border-color-normal",t),document.documentElement.style.setProperty("--border-color-light",n);for(let n=0;n<Ge.length;n++)e.getUserInterfaceModule().changeColor(Ge[n],t);Ge=[t]}if(null==i.errors||0!=i.errors.length)return n(i.errors),void console.log(i.errors);let a=i.response;if(a.settings.banned)return void O("Declined connection due to ban "+window.location.host,"Steve",(function(){window.location.href="https://help.openaudiomc.net/blocked_domain.html"}));let u=a.secureEndpoint;l("accepting and applying settings");let c=a.settings.ambianceSound;null!=a.settings.backgroundImage&&""!=a.settings.backgroundImage&&(a.settings.backgroundImage="https://media.openaudiomc.net/proxy?apiurl="+a.settings.backgroundImage);const h=a.settings.backgroundImage;window.debugHooks.setBgImage=o,""!==h&&o(h);const d=a.settings.title,f=a.settings.activeMessage;let p=a.settings.welcomeMessage;if(p=p.replace("%name",e.tokenSet.name),i.response.settings.useTranslations||(e.messageModule.setKey("landing.clickBelow",p),e.messageModule.setKey("landing.connectButton",a.settings.startButton),e.messageModule.setKey("main.content",f)),s(a.settings.color),window.debugHooks.setBgColor=s,""!=a.settings.startSound&&(e.getMediaManager().startSound=a.settings.startSound),"default"!==d){document.title=d;try{parent.document.title=d}catch(e){}}l("Logging into "+a.name+" with "+a.playerCount+" online player(s)"),t({fromCache:i.fromCache,host:u,background:h,ambianceSound:c,playerCount:i.response.playerCount,claimed:i.response.claimed,rtc:i.response.rtc,serverName:i.response.name,isPatreon:i.response.isPatreon,countryCode:i.response.countryCode,useTranslations:i.response.settings.useTranslations})}).catch(e=>{console.log("Dead end 1"),n(e)})})).catch((function(e){console.log("Dead end 2"),n(e)}))}function $(){qe.canStart&&qe.start()}function Q(e){r("{{ oam.loading_tagline_style }}","","style"),i("{{ oam.loading_tagline_text }}",e)}function Z(){i("{{ oam.rtc_peer_count }}","("+ot+")")}function ee(e){let t=document.querySelectorAll("[data-type=voice-card]");for(let e of t)e.style.display="none";document.getElementById(e).style.display=""}var te=String.fromCharCode,ne=Math.abs,re=Math.round,ie=Math.floor;n.r(t);n(134);var oe=n(131),se=n.n(oe);const ae={},ue={},ce={BUILD:"Build",UI:"Ui Templating",SESSION:"Session",ACCOUNT:"Account",AUDIO:"Mixer",SOCKET:"Socket",LOG:"Latest Log",RTC:"Streaming"};let le=!1,he=[],de=[],fe=[];class pe{constructor(){this.isServerAhead=!1,this.msOffset=0,this.hasSynced=!1}sync(e){let t=new Date(e),n=new Date;this.isServerAhead=t.getTime()>n.getTime(),this.msOffset=this.isServerAhead?t.getTime()-n.getTime():n.getTime()-t.getTime(),this.hasSynced=!0}getPredictedTime(){this.hasSynced||(new Date).getTime();let e=(new Date).getTime();return new Date(this.isServerAhead?e+this.msOffset:e-this.msOffset)}}Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this};class ge{constructor(e){this.openAudioMc=e}changeColor(e,t){let n=function(e){return e=e.replace("#",""),"rgb("+parseInt(e.substring(0,2),16)+", "+parseInt(e.substring(2,4),16)+", "+parseInt(e.substring(4,6),16)+")"}(e);document.querySelectorAll("*").forEach((function(e){let r=window.getComputedStyle(e);Object.keys(r).reduce((function(i,o){let s=r[o],a=r.getPropertyValue(s);if(0<=a.indexOf(n)){let r=a.replace(n,t);0<=s.indexOf("border-top")?e.style.borderTop="2px solid "+r:e.style[s]=r}}))}))}openApp(){h(me.MAIN_UI)}kickScreen(e){h(me.KICKED),i("{{ kicked.message }}",e)}}const me={BAD_AUTH:"bad-auth-card",WELCOME:"welcome-card",KICKED:"kicked-card",MAIN_UI:"main-card"},ve="rtc_initialized";class ye{constructor(e,t){this.id=e,this.option=t,this.onTimeout=null}show(e,t=!1){if(""===e||null==e)throw'"msg parameter is empty"';if(this.alertArea=document.querySelector(this.id),this.alertBox=document.createElement("DIV"),this.alertContent=document.createElement("DIV"),this.alertClose=document.createElement("A"),this.alertClass=this,this.alertContent.classList.add("alert-content"),this.alertContent.innerHTML=t?e:"<p>"+e+"</p>",this.alertClose.classList.add("alert-close"),this.alertClose.setAttribute("href","#"),this.alertBox.classList.add("alert-box"),this.alertBox.classList.add("p-3"),this.alertBox.classList.add("blurIn"),null!=this.option.extra&&this.alertBox.classList.add(this.option.extra),this.alertBox.appendChild(this.alertContent),this.option.hideCloseButton&&void 0!==this.option.hideCloseButton||this.alertBox.appendChild(this.alertClose),this.alertArea.appendChild(this.alertBox),this.alertClose.addEventListener("click",e=>{e.preventDefault(),this.alertClass.hide(this.alertBox)}),!this.option.persistent){let e=setTimeout(()=>{this.alertClass.hide(this.alertBox),clearTimeout(e)},this.option.closeTime)}return this}onClick(e){this.alertBox.onclick=e}hide(){this.alertBox.classList.add("hide");let e=setTimeout(()=>{this.alertBox.parentNode.removeChild(this.alertBox),clearTimeout(e),null!=this.onTimeout&&this.onTimeout()},500)}}class be{constructor(e,t){return this.hue=t,this.bridges=[],this.isSsl=document.location.href.startsWith("https://"),this.isLinked=!1,this.currentBridge=null,this.currentUser=null,this.color=net.brehaut.Color,this.options={userid:Cookies.get("hueid")},this.openAudioMc=e,this.isSsl?void this.openAudioMc.log("Failed to initiate Philips Hue integration since this web page is served over ssl. The user will be promted to downgrade to HTTP when a user interaction is made that is related to Hue"):(this.hue.discover().then(e=>{e.forEach(e=>{this.bridges.push(e),this.onDiscover()})}).catch(e=>console.log("Error finding bridges",e)),void(document.getElementById("hue-start-linking-button").onclick=()=>{this.startSetup()}))}onDiscover(){if(0!==this.bridges.length){if(this.openAudioMc.log(this.bridges.length+" hue bridges found"),document.getElementById("hue-bridge-menu-button").style.display="",document.getElementById("hue-setup-box").style.display="",document.getElementById("hue-bridge-menu-button").onclick=this.openModal,this.isSsl)return void(document.getElementById("hue-bridge-menu-button").style.display="none");null!=this.options.userid&&this.openAudioMc.getHueModule().startSetup()}else this.openAudioMc.log("No hue bridges found")}openModal(){document.getElementById("hue-modal-parent").style.display=""}startSetup(){const e=this;document.getElementById("hue-link-menu").style.display="none",document.getElementById("hue-linking-menu").style.display="",this.bridges.forEach(t=>{e.linkBridge(t.internalipaddress)})}onConnect(){this.currentUser.getConfig().then(e=>{document.getElementById("hue-settings-menu").style.display="",document.getElementById("hue-linking-menu").style.display="none",document.getElementById("hue-link-menu").style.display="none",this.openAudioMc.getHueConfiguration().setBridgeName(e.name),this.currentUser.getLights().then(e=>{let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({name:e[n].name,id:parseInt(n)});this.openAudioMc.getHueConfiguration().setLightNamesAndIds(t);null!=Cookies.get("hue-state")&&(this.openAudioMc.getHueConfiguration().state=JSON.parse(Cookies.get("hue-state"))),this.openAudioMc.getHueConfiguration().applyState(),this.openAudioMc.getHueConfiguration().updateState()}),this.openAudioMc.socketModule.send("hue_connected",{})})}updateSelector(e){setTimeout((function(){document.getElementById("default-group").selected=!1,document.getElementById("input-bridge-select").value=e}),200)}colorToHueHsv(e){const t=this.color(e).toHSV();return{on:0!=2*t.alpha*127.5,hue:ie(65535*t.hue/360),sat:ie(255*t.saturation),bri:re(2*t.alpha*127.5)}}setLight(e,t){let n=[];if("number"==typeof e){let t=this.openAudioMc.getHueConfiguration().getBulbStateById(e-1);if(-1===t)return!1;n.push(t)}else if(e.startsWith("["))JSON.parse(e).forEach(e=>{let t=this.openAudioMc.getHueConfiguration().getHueIdFromId(e-1);return-1!==t&&void n.push(t)});else{let t=this.openAudioMc.getHueConfiguration().getHueIdFromId(parseInt(e)-1);if(-1===t)return!1;n.push(t)}n.forEach(e=>{this.currentUser.setLightState(e,this.colorToHueHsv(t)).then(()=>{})})}linkBridge(e,t){if(i("{{ hue.linkingUpdate }}",window.getMessageString("hue.preparing")),null==t&&null!=this.options.userid)return i("{{ hue.linkingUpdate }}",window.getMessageString("hue.loggingIn")),this.currentUser=this.hue.bridge(e).user(this.options.userid),void this.currentUser.getGroups().then(t=>{null!=t[0]&&null==t[0].error?this.linkBridge(e,"error"):(this.openAudioMc.log("Linked with hue bridge after trying to connect with the old username"),this.isLinked=!0,this.onConnect())});if(this.currentBridge=this.hue.bridge(e),null==this.currentBridge)return void this.openAudioMc.log("Invalid bridge IP");const n=this;let r=0,o=-1;o=setInterval(()=>{function e(){clearInterval(o)}if(r++,60<r)return e(),this.startSetup(),void this.openAudioMc.log("Failed to authenticate with bridge in 60 seconds.");let t=60-r;i("{{ hue.linkingUpdate }}",window.getMessageString("hue.linking"),[["%sec",t]]),n.currentBridge.createUser("OpenAudioMc#WebClient").then(t=>{null==t[0].error?null!=t[0].success&&(n.currentUser=n.currentBridge.user(t[0].success.username),this.openAudioMc.log("Linked with hue bridge after "+r+" attempt(s)."),n.isLinked=!0,n.onConnect(),e()):101===t[0].error.type||(e(),this.openAudioMc.log("Unexpected error while connecting: "+t[0].error.type))})},1e3)}}class we{constructor(e){this.channelName=e,this.channelVolume=100,this.sounds=[],this.mixer=null,this.targetAfterFade=0,this.isFading=!1,this.fadeTimer=[],this.tags=new Map,this.trackable=!1}setTag(e){this.tags.set(e,!0)}hasTag(e){return this.tags.has(e)}hasSoundPlaying(){for(let e of this.sounds.values())return!0;return!1}addSound(e){this.sounds.push(e);for(let e of this.sounds.values())e.registerMixer(this.mixer,this);this._updateVolume()}setChannelVolume(e){this.channelVolume=e,this._updateVolume()}registerMixer(e){this.mixer=e;for(let e of this.sounds.values())e.registerMixer(this.mixer,this)}fadeChannel(e,t,n){this.interruptFade(),null==n&&(n=()=>{}),this.targetAfterFade=e,this.isFading=!0,((e,t,r,i)=>{t=t||1e3,r=r||0,i=i;let o=this.channelVolume,s=t/ne(o-r),a=setInterval(()=>{o=o>r?o-1:o+1;let e=this.mixer.masterVolume,t=o/100*e;for(let e of this.sounds)e.setVolume(t);if(this.channelVolume=o,o==r){n(),clearInterval(a);const e=this.fadeTimer.indexOf(a);-1<e&&this.fadeTimer.splice(e,1),this.isFading=!1,a=null}},s);this.fadeTimer.push(a)})(0,t,e,n)}interruptFade(){if(this.isFading){this.isFading=!1,this.setChannelVolume(this.targetAfterFade);for(let e of this.fadeTimer)clearInterval(e)}}_updateVolume(){this.interruptFade();let e=this.mixer.masterVolume,t=this.channelVolume/100*e;for(let e of this.sounds)e.loaded&&e.setVolume(t)}updateFromMasterVolume(){let e=this.mixer.masterVolume,t=this.channelVolume/100*e;for(let e of this.sounds)e.setVolume(t)}destroy(){this.interruptFade();for(let e of this.sounds)e.destroy()}}var Se={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(Se.arrayBuffer)var xe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Ee=ArrayBuffer.isView||function(e){return e&&-1<xe.indexOf(Object.prototype.toString.call(e))};g.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},g.prototype.delete=function(e){delete this.map[d(e)]},g.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},g.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},g.prototype.set=function(e,t){this.map[d(e)]=f(t)},g.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},g.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},g.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},g.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},Se.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);var Me=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},w.call(S.prototype),w.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},M.error=function(){var e=new M(null,{status:0,statusText:""});return e.type="error",e};var ke=[301,302,303,307,308];M.redirect=function(e,t){if(-1===ke.indexOf(t))throw new RangeError("Invalid status code");return new M(null,{status:t,headers:{location:e}})};var Ce=self.DOMException;try{new Ce}catch(t){(Ce=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce}k.polyfill=!0,self.fetch||(self.fetch=k,self.Headers=g,self.Request=S,self.Response=M);const Oe={CONTENT_PROXY:"https://media.openaudiomc.net/proxy?apiurl=",YOUTUBE_PROXY:"https://media.openaudiomc.net/youtube?id=",SOUNDCLOUD_PROXY:"https://media.openaudiomc.net/soundcloud?u=",DRIVE_PROXY:"https://media.openaudiomc.net/googledrive?id=",ERROR_REPORTING:"https://plus.openaudiomc.net/cf-log/production",MAIN_BACKEND:"https://plus.openaudiomc.net/",CLIENT_SESSION_SERVER:"https://plus.openaudiomc.net/session"};class _e{constructor(e,t,n,r,i){this.publicServerKey=e,this.uuid=t,this.name=n,this.token=r,this.scope=i,this.attempts=0}initialize(){return new Promise(e=>{let t=window.location.href;if(null!=t)if(2<=t.split("?").length){const n=class{constructor(){}static getParametersFromUrl(e){if(-1==e.indexOf("&"))return{};var t=e.split("&");let n={};for(let e=0;e<t.length;e++){let r=t[e].split("="),i=decodeURIComponent(r[0]),o=decodeURIComponent(r[1]);void 0===n[i]?n[i]=decodeURIComponent(o):"string"==typeof n[i]?n[i]=[n[i],decodeURIComponent(o)]:n[i].push(decodeURIComponent(o))}return n}}.getParametersFromUrl(t.split("?")[1]);if(null==n.data)return void e(null);let r=atob(n.data).split(":");if(4!==r.length)return console.log("Invalid query length"),e(null),null;const i=r[0],o=r[1],s=r[2],a=r[3];null!=i&&16>=i.length&&null!=o&&40>=o.length&&null!=s&&40>=s.length&&null!=a&&5>=a.length||(console.log("Failed parsing the token"),e(null));const u=new _e(s,o,i,a);window.tokenCache=u,console.log("Resolving legacy token"),e(u)}else if(2<=t.split("#").length){let n=t.split("#")[1];k(Oe.CLIENT_SESSION_SERVER+"?token="+n).then(t=>{t.json().then(t=>{if(0<t.errors.length)return void(3>this.attempts?(l("Failed to load session, trying again in a bit."),setTimeout(()=>{this.requestWasPreviouslyAttempted=!0,this.initialize().then(e),this.attempts++},1e3)):(console.log("Session error"),e(null)));let n=t.response;null==n.hasOwnProperty("serverIdentity")?(C("No identity to fetch"),r("{{ oam.logo_image }}","https://minotar.net/helm/"+n.playerName)):async function(e,t){C("Fetching identity..");let n=await k("https://cloud.openaudiomc.net/identity?token="+e),i=await n.json();return 0<i.errors.length?void console.error("Could not load identity "+e):(document.querySelector("link[rel*='icon']").href=i.response.icon+"&name="+t,r("{{ oam.logo_image }}",i.response.icon+"&name="+t),C("Native minecraft version: "+i.response.version),void C("Minecraft motd: "+i.response.motd))}(n.serverIdentity,n.playerName).then(()=>console.log).catch(()=>console.log);const i=new _e(n.publicKey,n.playerUuid,n.playerName,n.session,n.scope);window.tokenCache=i,e(i)}).catch(e=>{console.error(e)})}).catch(e=>{O("Something went while requesting tokens. Error: "+e.toJSON(),window.tokenCache.name),console.error(e)})}else e(null);else e(null)})}fromCache(){if(null!=window.tokenCache)return window.tokenCache;throw new Error("No token cache in window.")}}const Ae={PROXY:Oe.CONTENT_PROXY,YOUTUBE:Oe.YOUTUBE_PROXY,DRIVE:Oe.DRIVE_PROXY};class Te{constructor(){this.startedRandomly=!1,this.lastIndex=0}async translate(e){let t=this.handleRandomizedPlaylist(e);try{if(t.includes("media.openaudiomc.net"))return e;if(t=t.replace("https://api.openaudiomc.net/stream.php?u=",""),t.includes("http://docs.google.com/uc?export=open&id=")&&(t=t.replace("http://docs.google.com/uc?export=open&id=",Ae.DRIVE)),t.includes("https://docs.google.com/uc?export=open&id=")&&(t=t.replace("https://docs.google.com/uc?export=open&id=",Ae.DRIVE)),t.includes("https://drive.google.com/")&&(t=t.split("file/d/")[1],t=Ae.DRIVE+t.split("/view")[0]),this.isYoutube=!1,t.includes("youtube.")){let e=t.split("v=")[1];e.includes("&")&&(e=e.split("&")[0]),t=Ae.YOUTUBE+e,this.isYoutube=!0}else if(t.includes("youtu.be")){let e=t.split(".be/")[1];t=Ae.YOUTUBE+e,this.isYoutube=!0}if(t.includes("https://weathered-dust-0281.craftmend.workers.dev/")&&(t=t.replace("https://weathered-dust-0281.craftmend.workers.dev/","")),t.includes("soundcloud.com")){let e=await fetch("https://media.openaudiomc.net/2/soundcloud?u="+t),n=await e.json();if(n.hasOwnProperty("stream"))return document.getElementById("sc-cover").style.display="",document.getElementById("sc-title").style.display="",i("{{ oam.soundcloud_title }}",n.artist+" - "+n.title),document.getElementById("sc-title").onclick=()=>{window.open(n.link)},document.getElementById("sc-cover").src=n.photo,n.stream}"https:"===location.protocol&&t.includes("http")&&!t.includes("https://")&&(t=Ae.PROXY+t)}catch(t){return console.log("Middleware error"),console.log(t),e}return t}handleRandomizedPlaylist(e){if(e.startsWith("[")&&e.endsWith("]")){let t=JSON.parse(e);if(!this.startedRandomly){let e=ie(Math.random()*t.length);return this.lastIndex=e,this.startedRandomly=!0,t[e]}return this.lastIndex++,this.lastIndex>t.length-1&&(this.lastIndex=0),t[this.lastIndex]}return e}}let Ie={},Pe=new Te;class Ne extends Te{constructor(){super(),this.hadError=!1,this.error=null,this.trackable=!1,this.onFinish=[],this.loop=!1,this.mixer=null,this.channel=null,this.finsishedInitializing=!1,this.gotShutDown=!1,this.loaded=!1,this.initCallbacks=[],this.startedLoading=!1,this.destroyed=!1}whenInitialized(e){this.loaded?e():this.initCallbacks.push(e)}async load(e,t=!0){if(!this.startedLoading){this.startedLoading=!0,this.rawSource=e,e=await this.translate(e),this.soundElement=await async function(e,t=!1,n=!0){if(!n)return new Audio;t||(e=await Pe.translate(e));let r=Ie[e];return null==r?new Audio:(c("Resolving cache for source "+e),r)}(e,!0,t),this.soundElement.onerror=e=>{this.hadError=!0,this.error=e,this._handleError()},this.soundElement.src=e,this.source=e,this.soundElement.setAttribute("preload","auto"),this.soundElement.setAttribute("controls","none"),this.soundElement.setAttribute("display","none"),this.soundElement.preload="auto",this.soundElement.abort=console.log,this.loaded=!0;for(let e=0;e<this.initCallbacks.length;e++)this.initCallbacks[e]()}}setOa(e){this.openAudioMc=e,this._handleError()}_handleError(){if(this.hadError&&null!=this.openAudioMc&&"error"==this.error.type){let t=this.soundElement.error.code,n=null;if(this.isYoutube?n=this.openAudioMc.socketModule.supportsYoutube?"YOUTUBE_ERR":"MEDIA_ERR_SRC_NOT_SUPPORTED":1===t?n="MEDIA_ERR_ABORTED":2===t?n="MEDIA_ERR_NETWORK":3===t?n="MEDIA_ERR_DECODE":4===t&&(n="MEDIA_ERR_SRC_NOT_SUPPORTED"),null!=n){l("Reporting media failure "+n);var e=function(e,t,n){var r={};return Object.getOwnPropertyNames(e).forEach((function(t){r[t]=e[t]})),JSON.stringify(r,t,n)};null!=this.source&&"null"!=this.source&&this.openAudioMc.sendError("A sound failed to load.\nurl="+this.source+"\nerror-code="+this.soundElement.error.code+"\nerror-message="+this.soundElement.error.message+"\ndetected-error="+n+"\ndump="+e(this.error,null,"\t")+e(this.soundElement.error,null,"\t")+"\nhostname="+window.location.host+"\nuseragent="+window.navigator.userAgent),this.openAudioMc.socketModule.send("media_failure",{mediaError:n,source:this.soundElement.src})}}}addNode(e,t){null==this.controller&&(this.soundElement.crossOrigin="anonymous",!this.soundElement.src.includes("openaudiomc.net")&&(this.soundElement.src=Ae.PROXY+this.soundElement.src),this.controller=e.audioCtx.createMediaElementSource(this.soundElement)),this.controller.connect(t)}registerMixer(e,t){this.mixer=e,this.channel=t}finalize(){return new Promise(e=>{this.soundElement.onended=async()=>{this.gotShutDown||!this.finsishedInitializing||(this.onFinish.forEach(e=>{e()}),this.loop?(this.soundElement.src=await this.translate(this.rawSource),this.setTime(0),this.soundElement.play()):(this.mixer.removeChannel(this.channel),!this.soundElement.paused&&this.soundElement.pause()))};let t=!1;const n=()=>{if(!this.gotShutDown){if(!t){let t=this.soundElement.play();t instanceof Promise?t.then(e).catch(e):e()}t=!0}};this.soundElement.onplay=()=>{this.gotShutDown&&(l("Canceled a sound that started to play, for some reason."),this.soundElement.pause())},this.soundElement.onprogress=n,this.soundElement.oncanplay=n,this.soundElement.oncanplaythrough=n})}setLooping(e){this.loop=e}finish(){this.finsishedInitializing=!0}setOnFinish(e){this.onFinish.push(e)}setVolume(e){this.whenInitialized(()=>{100<e&&(e=100),this.soundElement.volume=e/100})}startDate(e){this.whenInitialized(()=>{let t=new Date(e),n=(this.openAudioMc.timeService.getPredictedTime()-t)/1e3;l("Started "+n+" ago");let r=this.soundElement.duration;if(n>r){n-=ie(n/r)*r}l("Starting "+n+" in"),this.setTime(n)})}setTime(e){this.soundElement.currentTime=e}destroy(){this.whenInitialized(()=>{this.destroyed=!0,this.gotShutDown=!0,this.setLooping(!1),this.soundElement.pause(),this.soundElement.remove()})}}"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var e={};return Object.getOwnPropertyNames(this).forEach((function(t){e[t]=this[t]}),this),e},configurable:!0,writable:!0});class Re{constructor(e,t){this.openAudioMc=t,this.mixerName=e,this.masterVolume=100,this.channels=new Map,this.areSoundsPlaying=!1,this.ambianceSoundMedia=null,this.recentSource="/none",u(()=>{window.debugUi.addPanel(ce.AUDIO,()=>"playingChannels="+this.channels.size+", prefetched="+Object.keys(Ie).length+", recent="+this.recentSource.split("/")[this.recentSource.split("/").length-1])})}_updatePlayingSounds(){let e=!1;this.channels.forEach(t=>{t.hasSoundPlaying()&&(e=!0)}),e!=this.areSoundsPlaying&&(this._playingStateChangeChanged(e),this.areSoundsPlaying=e)}_playingStateChangeChanged(e){null==this.ambianceSoundMedia||(e?(console.log("Stopping ambiance sound"),this.ambianceSoundMedia.fadeChannel(0,800,()=>{})):(console.log("Starting ambiance sound"),this.ambianceSoundMedia.fadeChannel(this.masterVolume,800,()=>{})))}async setupAmbianceSound(e){let t=new we("ambiance-lol-dics"),n=new Ne;n.setOa(this.openAudioMc),t.mixer=openAudioMc.getMediaManager().mixer,await n.load(e),t.addSound(n),n.setLooping(!0),n.setVolume(0),n.finalize().then(()=>{n.finish()}),t.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia=t,this.ambianceSoundMedia.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia.setChannelVolume(0),this.ambianceSoundMedia.updateFromMasterVolume(this.masterVolume),this._updatePlayingSounds()}updateCurrent(){let e=[];this.channels.forEach((t,n)=>{let r=[];t.tags.forEach((e,t)=>{r.push(t)}),t.trackable&&e.push({name:n,tags:r})}),this._updatePlayingSounds()}setMasterVolume(e){this.masterVolume=e;for(let e of this.channels.values())e.updateFromMasterVolume();null!=this.ambianceSoundMedia&&(this.ambianceSoundMedia.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia.updateFromMasterVolume(e))}removeChannel(e){let t;t=e instanceof we?e:this.channels.get(e),null!=t&&(t.destroy(),this.channels.delete(t.channelName)),this._updatePlayingSounds()}getChannels(){return this.channels.values()}addChannel(e){if(!(e instanceof we))throw new Error("Argument isn't a channel");{const t=e.channelName,n=this.channels.get(t);null!=n&&n.destroy(),e.registerMixer(this),this.channels.set(t,e),setTimeout(()=>{for(let t in e.sounds)this.recentSource=e.sounds[t].rawSource},1e3)}this._updatePlayingSounds()}}class Fe{constructor(e){this.sounds={},this.masterVolume=80,this.openAudioMc=e,this.startSound=null,this.mixer=new Re(null,e),document.getElementById("volume-slider").oninput=()=>{let e=document.getElementById("volume-slider").value;this.setMasterVolume(e),Cookies.set("volume",e,{expires:30})}}startVolumeMonitor(e){let t=-1;setInterval(()=>{t!=this.masterVolume&&(t=this.masterVolume,e.socketModule.send("volume_changed",{volume:this.masterVolume}))},300)}async setupAmbianceSound(e){""==e||null==e||await this.mixer.setupAmbianceSound(e)}startVolumeWatcher(e){this.startVolumeMonitor(e)}postBoot(){if(null!=this.startSound){const e=new we("startsound"),t=new Ne;e.mixer=this.openAudioMc.getMediaManager().mixer,t.openAudioMc=this.openAudioMc,t.setOa(this.openAudioMc),t.load(this.startSound).then(()=>{e.addSound(t),t.setOnFinish(()=>{setTimeout(()=>{this.mixer._updatePlayingSounds()},1e3)}),t.finalize().then(()=>{this.mixer.addChannel(e),e.setChannelVolume(100),e.updateFromMasterVolume(),t.finish()})})}else setTimeout(()=>{this.mixer._updatePlayingSounds()},500)}destroySounds(e,t,n,r,i=function(){}){let o=r;null==o&&(o=500),n&&(o=0);for(let n of this.mixer.getChannels())t?n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n)}):null==e||""===e?n.hasTag("SPECIAL")||n.hasTag("REGION")||n.hasTag("SPEAKER")||n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n)}):n.hasTag(e)&&(n.sounds.forEach(e=>{e.gotShutDown=!0}),n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n),i()}))}setMasterVolume(e){this.masterVolume=e,i("{{ oam.volume }}",0===e?e+"(muted)":e+"%"),Cookies.set("volume",e,{expires:30}),this.mixer.setMasterVolume(e)}changeVolume(e){document.getElementById("volume-slider").value=e,this.setMasterVolume(e)}getMasterVolume(){return this.masterVolume}}class Le{constructor(e,t){if(this.handlers={},this.openAudioMc=e,this.callbacksEnabled=!1,this.supportsYoutube=!1,this.hasConnected=!1,this.outgoingQueue=[],this.inCount=0,this.outCount=0,u(()=>{window.debugUi.addPanel(ce.SOCKET,()=>"in="+this.inCount+", out="+this.outCount+", ok="+this.socket.connected)}),null==(new _e).fromCache())return console.log("Empty authentication"),void h(me.BAD_AUTH);this.state="loading",this.authHeader="type=client&n="+e.tokenSet.name+"&player="+e.tokenSet.uuid+"&s="+e.tokenSet.publicServerKey+"&p="+e.tokenSet.token;const n=this;this.socket=io(t,{query:n.authHeader,autoConnect:!1,withCredentials:!1}),this.socket.on("connect",()=>{e.userInterfaceModule.openApp(),e.socketModule.state="ok",this.hasConnected=!0,this.outgoingQueue.forEach(e=>{this.send(e.key,e.value)})}),this.socket.on("time-update",e=>{let t=e.split(":"),n=parseInt(t[1]),r=parseInt(t[0]);this.openAudioMc.getTimeService().sync(r,n)}),this.socket.on("disconnect",()=>{e.debugPrint("closed"),e.getMediaManager().destroySounds(null,!0),n.state="closed",r("{{ oam.loader_style }}","display: -;","style"),r("{{ oam.login_style }}","display: -;","style"),r("{{ oam.loader_status }}","display: none;","style"),setTimeout(()=>{e.getMediaManager().sounds={}},1010),e.voiceModule.shutDown()}),this.socket.on("data",e=>{let t=e.type.split("."),r=t[t.length-1];null!=n.handlers[r]&&n.handlers[r](e.payload),this.inCount++}),this.socket.connect()}send(e,t){if(this.outCount++,this.hasConnected){if(!this.callbacksEnabled)return void l("could not satisfy callback "+e+" because the protocol is outdated");l("Submitting value for "+e),this.socket.emit(e,t)}else this.outgoingQueue.push({key:e,value:t})}registerHandler(e,t){this.handlers[e]=t}}class Be{constructor(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}add(e,t,n){return this.x+=e,this.y+=t,this.z+=n,this}applyQuaternion(e){let t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,s=e.z,a=e.w,u=a*t+o*r-s*n,c=a*n+s*t-i*r,l=a*r+i*n-o*t,h=-i*t-o*n-s*r;return this.x=u*a+h*-i+c*-s-l*-o,this.y=c*a+h*-o+l*-i-u*-s,this.z=l*a+h*-s+u*-o-c*-i,this}square(e){return e*e}distance(e){const t=this.square(this.x-e.x)+this.square(this.y-e.y)+this.square(this.z-e.z);return Math.sqrt(t)}}class je{constructor(e,t,n,r,i,o,s){this.id=e,this.source=t,this.location=n,this.type=r,this.maxDistance=i,this.startInstant=o,this.openAudioMc=s,this.channel=null}getDistance(e,t){return t.location.distance(this.location)}}window.enableOpenAudioDebugMode=function(){wt.isProd=!1,a()};class De{constructor(e){function t(t,n){e.socketModule.registerHandler(t,t=>n(e,t))}t("ClientVersionPayload",T),t("NotificationPayload",A),t("HueColorPayload",N),t("ClientPlayerLocationPayload",F),t("ClientSpeakerCreatePayload",L),t("ClientSpeakerDestroyPayload",B),t("ClientPreFetchPayload",j),t("ClientUpdateMediaPayload",R),t("ClientCreateMediaPayload",_),t("ClientDestroyMediaPayload",P),t("ClientVolumePayload",I),t("ClientVoiceChatUnlockPayload",z),t("ClientVoiceSubscribePayload",G),t("ClientVoiceDropPayload",H),t("ClientVoiceUpdatePeerLocationsPayload",W),t("ClientVoiceChatToggleMicrophonePayload",K),t("ClientVoiceBlurUiPayload",q)}}class Ue{constructor(){this.dropdowns=[],this.state=[],this.dropdowns.push(document.getElementById("bulb-selection-1")),this.dropdowns.push(document.getElementById("bulb-selection-2")),this.dropdowns.push(document.getElementById("bulb-selection-3")),this.dropdowns.forEach(e=>{e.onchange=()=>{this.select()}})}setBridgeName(e){i("{{ oam.hue_bridge_name }}",e)}select(){this.updateState()}applyState(){this.state.forEach(e=>{this.getInputById(e.bulb).selectedIndex=e.selectedIndex})}updateState(){this.state=[],this.dropdowns.forEach(e=>{this.state.push(this.obtainSelection(e))}),Cookies.set("hue-state",this.state,{expires:30})}obtainSelection(e){const t=e.dataset.bulb,n=e.options[e.selectedIndex].dataset.light;return{selectedIndex:e.selectedIndex,bulb:t,value:n}}getBulbStateById(e){return this.state.forEach(t=>{if(t.id==e)return t}),-1}getInputById(e){for(const t of this.dropdowns)if(t.dataset.bulb==e)return t}getHueIdFromId(e){return this.state[parseInt(e)].value}setLightNamesAndIds(e){let t="";e.forEach(e=>{t+="<option data-light='"+e.id+"'>"+e.name+"</option>"}),this.dropdowns.forEach(e=>{e.innerHTML=t})}}let Ve=[],ze={"&4":"font-weight:normal;text-decoration:none;color:#be0000","&c":"font-weight:normal;text-decoration:none;color:#fe3f3f","&6":"font-weight:normal;text-decoration:none;color:#d9a334","&e":"font-weight:normal;text-decoration:none;color:#fefe3f","&2":"font-weight:normal;text-decoration:none;color:#00be00","&a":"font-weight:normal;text-decoration:none;color:#3ffe3f","&b":"font-weight:normal;text-decoration:none;color:#3ffefe","&3":"font-weight:normal;text-decoration:none;color:#00bebe","&1":"font-weight:normal;text-decoration:none;color:#0000be","&9":"font-weight:normal;text-decoration:none;color:#3f3ffe","&d":"font-weight:normal;text-decoration:none;color:#fe3ffe","&5":"font-weight:normal;text-decoration:none;color:#be00be","&f":"font-weight:normal;text-decoration:none;color:#ffffff","&7":"font-weight:normal;text-decoration:none;color:#bebebe","&8":"font-weight:normal;text-decoration:none;color:#3f3f3f","&0":"font-weight:normal;text-decoration:none;color:#000000","&l":"font-weight:bold","&n":"text-decoration:underline;text-decoration-skip:spaces","&o":"font-style:italic","&m":"text-decoration:line-through;text-decoration-skip:spaces"};String.prototype.replaceColorCodes=function(){return function(){for(let e=Ve.length;e--;)clearInterval(Ve[e]);Ve=[]}(),function(e){var t,n,r=e.match(/&.{1}/g)||[],i=[],o=[],s=document.createDocumentFragment(),a=r.length;e=e.replace(/\n|\\n/g,"<br>");for(let t=0;t<a;t++)i.push(e.indexOf(r[t])),e=e.replace(r[t],"\0\0");0!==i[0]&&s.appendChild(Y(e.substring(0,i[0]),[]));for(let u=0;u<a;u++){if(2===(n=i[u+1]-i[u])){for(;2==n;)o.push(r[u]),u++,n=i[u+1]-i[u];o.push(r[u])}else o.push(r[u]);-1<o.lastIndexOf("§r")&&(o=o.slice(o.lastIndexOf("§r")+1)),t=e.substring(i[u],i[u+1]),s.appendChild(Y(t,o))}return s}(this+"")};let Ge=["#2c78f6","#4F46E5"];class He{constructor(e){this.host=e}route(e){return new Promise((t,n)=>{this.tokenSet=(new _e).fromCache(),l("Using account based profile system..."),X(e,t,n,this.tokenSet)})}}class We{constructor(e){this.main=e,this.requestBox=null,"Notification"in window&&this.setupPermissions()}setupPermissions(){"granted"===Notification.permission||"denied"!==Notification.permission&&(this.requestBox=new ye("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}),this.requestBox.show('<div style="text-align: center;"><b>Welcome!</b> you can enable push notifications to get notified when you get a call or the server sends you a message. To get them setup, press the button below.<br/><br/><span id="noti-perm-request-link" class="alert-message-button">Setup</span></div>'),s(()=>{document.getElementById("noti-perm-request-link").onclick=this.requestNotificationPermissions}))}sendNotification(e,t){new Notification(e,{body:t,icon:"https://minotar.net/helm/"+this.main.tokenSet.name})}requestNotificationPermissions(){Notification.requestPermission().then(e=>{"granted"===e&&(this.requestBox.hide(),new ye("#alert-area",{closeTime:1500,persistent:!1,hideCloseButton:!0}).show("Hurray! you'll now receive notifications"),this.sendNotification("Testing testing 123","It worked! you have configured Notifications correctly!"))})}}var Ke=n(132);let qe=null;class Je{constructor(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}}class Ye{constructor(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0===r?1:r}setFromEuler(e){var t=Math.sin,n=Math.cos;let r=e.x,i=e.y,o=e.z,s=n(r/2),a=n(i/2),u=n(o/2),c=t(r/2),l=t(i/2),h=t(o/2);return this.x=c*a*u+s*l*h,this.y=s*l*u-c*a*h,this.z=s*a*h+c*l*u,this.w=s*a*u-c*l*h,this}}class Xe{constructor(e=new Be,t=new Ye){this.position=e,this.rotation=t}applyTo(e){const t=this.position,n=new Be(0,0,1).applyQuaternion(this.rotation),r=new Be(0,1,0).applyQuaternion(this.rotation);e.positionX?(e.positionX.value=t.x,e.positionY.value=t.y,e.positionZ.value=t.z):e.setPosition(t.x,t.y,t.z),e instanceof PannerNode?e.orientationX?(e.orientationX.value=n.x,e.orientationY.value=n.y,e.orientationZ.value=n.z):e.setOrientation(n.x,n.y,n.z):e.forwardX?(e.forwardX.value=n.x,e.forwardY.value=n.y,e.forwardZ.value=n.z,e.upX.value=r.x,e.upY.value=r.y,e.upZ.value=r.z):e.setOrientation(n.x,n.y,n.z,r.x,r.y,r.z)}}class $e{constructor(e,t,n,r){this.world=e,this.audioCtx=new AudioContext,this.listener=this.audioCtx.listener,this.updateLocation(t,n,r)}updateLocation(e,t,n){this.location=e,this.pitch=this.toRadians(t),this.yaw=this.toRadians(this.normalizeYaw(360-n));const r=new Je(this.pitch,this.yaw,0),i=new Ye;i.setFromEuler(r);new Xe(e,i).applyTo(this.listener),this.world.onLocationUpdate()}toRadians(e){return e*(Math.PI/180)}normalizeYaw(e){return 0>(e%=360)&&(e+=360),e}}class Qe{constructor(e,t,n){this.source=e,this.distance=t,this.speaker=n}}const Ze="SPEAKER_2D";class et{constructor(e,t,n,r,i,o){this.pannerNode=n.audioCtx.createPanner(),this.media=r,r.load(i,!1).then(()=>{o.fadeChannel(100,100),r.addNode(n,this.pannerNode),this.pannerNode.panningModel="HRTF",this.pannerNode.rolloffFactor=.9,this.pannerNode.distanceModel="linear",this.pannerNode.coneOuterGain=1,this.pannerNode.coneInnerAngle=120,this.pannerNode.maxDistance=e.maxDistance;const t=e.location;new Xe(t).applyTo(this.pannerNode),this.pannerNode.connect(n.audioCtx.destination)})}}class tt{constructor(e,t,n){this.id="SPEAKER__"+t,this.openAudioMc=e,this.speakerNodes=new Map,this.source=t,this.startInstant=n,this.initialized=!1,this.whenInitialized=[]}async initialize(){const e=new we(this.id);e.trackable=!0,this.channel=e;const t=new Ne(this.source);this.media=t,t.openAudioMc=openAudioMc,t.setOa(openAudioMc),e.mixer=this.openAudioMc.getMediaManager().mixer,e.addSound(t),openAudioMc.getMediaManager().mixer.addChannel(e),t.whenInitialized(async()=>{e.setChannelVolume(0),t.startDate(this.startInstant,!0),await t.finalize(),t.setLooping(!0),e.setTag(this.id),e.setTag("SPECIAL"),this.openAudioMc.getMediaManager().mixer.updateCurrent(),t.startDate(this.startInstant,!0),t.finish()}),this.initialized=!0}removeSpeakerLocation(e){null!=this.speakerNodes.get(e)&&this.speakerNodes.delete(e)}updateLocation(e,t,n){if(e.type==Ze){this.media.load(this.source,!0);const r=e.getDistance(t,n),i=this._convertDistanceToVolume(e.maxDistance,r);if(0>=i)return;this.channel.fadeChannel(i,100)}else this.speakerNodes.has(e.id)||this.speakerNodes.set(e.id,new et(e,t,n,this.media,this.source,this.channel))}_convertDistanceToVolume(e,t){return re((e-t)/e*100)}remove(){this.media.loaded||c("WARNING! wanted to stop "+this.id+" but it isn't loaded yet"),this.openAudioMc.getMediaManager().destroySounds(this.id,!1,!1,500,()=>{this.media.destroyed?c("It got destroyed successfully"):(c("Failed to destroy a world sound, so I had to do it again."),this.media.destroy())})}}class nt{constructor(e){this.openAudioMc=e,this.speakers=new Map,this.audioMap=new Map,this.player=new $e(this,new Be(0,0,0),0,0)}getSpeakerById(e){return this.speakers.get(e)}addSpeaker(e,t){this.speakers.set(e,t),this.renderAudio2D()}removeSpeaker(e){this.speakers.delete(e),this.audioMap.forEach((e,t)=>{e.removeSpeakerLocation(t)}),setTimeout(()=>{this.renderAudio2D()},600)}async getMediaForSource(e,t){const n=this.audioMap.get(e);if(null!=n)return n;if(null==t)return null;const r=new tt(this.openAudioMc,e,t);return this.audioMap.set(e,r),await r.initialize(),r}async removeMediaFromSource(e){const t=await this.getMediaForSource(e);return null==t?void c("Couldn't stop world media for "+e+" because it didn't exist"):(t.remove(),c("Cleared world media "+e),void this.audioMap.delete(e))}onLocationUpdate(){this.renderAudio2D()}isMediaUsed(e){for(let t of this.speakers.values())if(t.source==e)return!0;return!1}async renderAudio2D(){let e=[];this.speakers.forEach(t=>{const n=t.getDistance(this,this.player);e.push(new Qe(t.source,n,t))});let t=new Map;for(let n of e){let e=t.get(n.source);null!=e?Array.isArray(e)?(e.push(n),t.set(n.source,e)):e.distance>n.distance&&n.distance<=n.speaker.maxDistance&&t.set(n.source,n):n.speaker.type==Ze?n.distance<=n.speaker.maxDistance&&t.set(n.source,n):n.distance<=n.speaker.maxDistance&&t.set(n.source,[n])}for(let[e,n]of t){let e=Array.isArray(n)?n:[n];for(let t of e){(await this.getMediaForSource(t.source,t.speaker.startInstant)).updateLocation(t.speaker,this,this.player)}}for(let[e,t]of this.audioMap)this.isMediaUsed(e)||await this.removeMediaFromSource(e)}}class rt{constructor(){this.successCallback=alert,this.errorCallback=alert}getUserMedia(e){return null==navigator.getUserMedia?null==navigator.webkitGetUserMedia?null==navigator.mediaDevices.getUserMedia?null==navigator.msGetUserMedia?void console.error("Unknown user media platform!"):void nnavigator.msGetUserMedia(e,this.successCallback,this.errorCallback):void navigator.mediaDevices.getUserMedia(e).then(e=>this.successCallback(e)).catch(e=>this.errorCallback(e)):void navigator.webkitGetUserMedia(e,this.successCallback,this.errorCallback):void navigator.getUserMedia(e,this.successCallback,this.errorCallback)}}let it={};window.handlePeerVolumeEvent=function(e){let t=it[e.id];null!=t&&t(e)};let ot=0;Z();class st{constructor(e,t,n,r,i){this.openAudioMc=e,this.playerName=t,this.onVolumeChange=i,this.removed=!1;let o='\n        <div class="flex items-center p-2" id="vc-user-card-'+t+'">\n            <div class="w-12 h-12 rounded-full mr-3 overflow-hidden flex items-center text-black" id="vc-user-card-'+t+'-indicator">\n                <img id="vc-user-card-'+t+'-picture" src="https://visage.surgeplay.com/bust/512/'+n+'" class="w-16">\n            </div>\n            <div class="flex-1">\n                <div class="flex items-center">\n                    <div class="font-semibold text-normal text-black"><svg id="vc-user-card-'+t+'-muted" class="h-8 w-8 text-red-500" style="display: none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="1" y1="1" x2="23" y2="23" /> <path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6" /> <path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23" /> <line x1="12" y1="19" x2="12" y2="23" /> <line x1="8" y1="23" x2="16" y2="23" /></svg>'+t+' <small id="vc-user-card-'+t+'-volume-disp" class="text-black">('+r+'% volume)</small>\n                    </div>\n                </div>\n                <div><input id="vc-user-card-'+t+'-volume-input" oninput="handlePeerVolumeEvent(this)"\n                            class="rounded-lg overflow-hidden appearance-none bg-gray-400 h-3 w-full"\n                            type="range" min="0" max="120" step="1" value="'+r+'"/></div>\n            </div>\n        </div>\n        ';document.getElementById("vc-call-members").innerHTML+=o,ot++,Z(),it["vc-user-card-"+this.playerName+"-volume-input"]=function(e){this.callingSliderUpdate(e)}.bind(this),setTimeout(()=>{this.updatePlaceholder()},10)}callingSliderUpdate(){if(!this.removed){let e=document.getElementById("vc-user-card-"+this.playerName+"-volume-input").value;this.onVolumeChange(e),this.updateVolumeDisplay(e)}}updatePlaceholder(){document.getElementById("empty-call-placeholder").style.display=0==this.openAudioMc.voiceModule.peerMap.size?"":"none"}remove(){ot--,Z(),this.removed=!0,document.getElementById("vc-call-members").removeChild(document.getElementById("vc-user-card-"+this.playerName)),this.updatePlaceholder(),delete it["vc-user-card-"+this.playerName+"-volume-input"]}setVisuallyTalking(e){this.removed||(e?(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.backgroundColor="lime",document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.boxShadow="0 0 10pt 2pt lime"):(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.boxShadow="",document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.backgroundColor=""))}setVisuallyMuted(e){this.removed||(e?(document.getElementById("vc-user-card-"+this.playerName+"-picture").style.opacity="0.2",document.getElementById("vc-user-card-"+this.playerName+"-muted").style.display="inline"):(document.getElementById("vc-user-card-"+this.playerName+"-picture").style.opacity="1",document.getElementById("vc-user-card-"+this.playerName+"-muted").style.display="none"))}updateVolumeDisplay(e){this.removed||(document.getElementById("vc-user-card-"+this.playerName+"-volume-disp").innerText="("+e+"% volume)")}}var at=n(60);class ut{constructor(e,t,n,r,i,o){this.openAudioMc=e,this.server=t,this.streamKey=n,this.peerStreamKey=r,this.volume=i,this.volBooster=1.2,this.uiInst=o,this.harkEvents=null}start(e){let t=this.openAudioMc.voiceModule.peerManager.requestStream(this.peerStreamKey);t.onFinish(t=>{const n=this.openAudioMc.world.player.audioCtx;this.setVolume(this.volume),this.gainNode=n.createGain(),this.audio=new Audio,this.audio.autoplay=!0,this.audio.srcObject=t,this.gainNode.gain.value=this.volume/100*this.volBooster,window.debugAudio=this.audio,this.audio.muted=!0;const r=n.createMediaStreamSource(this.audio.srcObject);if(this.harkEvents=Object(at.a)(t,{}),this.harkEvents.setThreshold(-75),this.harkEvents.on("speaking",()=>{this.uiInst.setVisuallyTalking(!0)}),this.harkEvents.on("stopped_speaking",()=>{this.uiInst.setVisuallyTalking(!1)}),this.audio.muted=!0,this.openAudioMc.voiceModule.surroundSwitch.isOn()){const e=this.gainNode;this.pannerNode=n.createPanner(),this.pannerNode.maxDistance=this.openAudioMc.voiceModule.blocksRadius,this.pannerNode.panningModel="HRTF",this.pannerNode.rolloffFactor=.95,this.pannerNode.distanceModel="linear",this.pannerNode.coneOuterGain=1,this.pannerNode.coneInnerAngle=120,this.setLocation(this.x,this.y,this.z,!0),r.connect(e),e.connect(this.pannerNode),this.pannerNode.connect(n.destination)}else{const e=this.gainNode;r.connect(e),e.connect(n.destination)}this.audio.play().then(()=>{}).catch(e=>{console.log("Denied from promise",e)}),e()}),t.onReject(e=>{l("Stream for "+this.peerStreamKey+" got denied: "+e)})}setLocation(e,t,n,r){if(this.openAudioMc.voiceModule.useSurround){if(r&&null!=this.pannerNode){new Xe(new Be(this.x,this.y,this.z)).applyTo(this.pannerNode)}else r&&l("Warning, attempted to update a peer location while the panner node is nil");this.x=e,this.y=t,this.z=n}}setVolume(e){this.volume=e,null!=this.gainNode&&(this.gainNode.gain.value=this.volume/100*this.volBooster)}stop(){null!=this.audio&&(this.audio.pause(),this.audio.src=null,this.audio.srcObject=null,this.gainNode.gain.value=0),null!=this.harkEvents&&this.harkEvents.stop()}}class ct{constructor(e,t,n,r,i,o){this.openAudioMc=e,this.playerName=t,this.playerUuid=t,this.streamKey=r,this.active=!0,this.ready=!1,this.location=o,this.volume=80;let s=Cookies.get("vc-volume-of-"+t);null!=s&&(this.volume=parseInt(s)),this.ui=new st(this.openAudioMc,t,n,this.volume,e=>{this.volume=e,Cookies.set("vc-volume-of-"+t,e,{expires:30}),this.ready&&this.stream.setVolume(this.volume)}),this.stream=new ut(e,i,e.voiceModule.streamKey,r,this.volume,this.ui),this.stream.setLocation(o.x,o.y,o.z,!1),this.stream.start(()=>this.active?(this.stream.setVolume(this.volume),void(this.ready=!0)):void this.stop())}updateLocation(e,t,n){this.stream.setLocation(e,t,n,!0)}stop(){null!=this.openAudioMc.voiceModule.peerManager&&this.openAudioMc.voiceModule.peerManager.dropStream(this.streamKey),this.active=!1,this.ui.remove(),null!=this.stream&&this.stream.stop()}}class lt{constructor(e,t,n){this.id=e,this.onToggle=n,this.state=null==Cookies.get(e)?t:JSON.parse(Cookies.get(e)),this.setVisuallyActive(this.state),s(()=>{document.getElementById(this.id).checked=!this.state,document.getElementById(this.id).onclick=()=>{this.state=!this.state,Cookies.set(this.id,this.state,{expires:30}),this.onToggle(this.state),this.setVisuallyActive(this.state)}})}setVisuallyActive(e){e?(document.getElementById(this.id).style.backgroundColor="",document.getElementById(this.id).style.color=""):(document.getElementById(this.id).style.backgroundColor="#EF4444",document.getElementById(this.id).style.color="#F3F4F6")}getState(){return this.state}isOn(){return this.state}}class ht{constructor(){this.eventName="",this.params=new Map}fromString(e){this.original=e;let t=e.split("~");for(let e=0;e<t.length;e++)if(0===e)this.eventName=t[e];else{let n=t[e];if(-1!==n.indexOf("=")){let e=n.split("=");this.params.set(e[0],e[1])}}return this}setParam(e,t){return this.params.set(e,t),this}getParam(e){return this.params.get(e)}setEventName(e){return this.eventName=e,wt.isProd||l("Building bus message "+e),this}getEventName(){return this.eventName}serialize(){let e=this.eventName+"~";for(let[t,n]of this.params)e+=t+"="+n+"~";return e}trimmed(){let e=this.eventName.length,t="";for(let n,r=0;r<this.original.length;r++)n=this.original.charAt(r),r<=e||(t+=n);return t}}class dt{constructor(){this.whenFinished=()=>{l("A promised channel got finished before it got used")},this.whenRejected=()=>{l("A promised channel got finished before it got used")},this.error=null,this.payload=null}onFinish(e){return null==this.payload?void(this.whenFinished=e):void e(this.payload)}onReject(e){return null==this.error?void(this.whenRejected=e):void e(this.error)}handleData(e){this.payload=e,this.whenFinished(e)}handleError(e){this.error=e,this.whenRejected(e)}}class ft{constructor(e,t,n,r,i){this.openAudioMc=e,this.server=t,this.micProcessor=i,this.streamKey=n,this.waitingPromises=new Map,this.trackQueue=new Map,this.updateNegotiation=!0,this.micStream=r,this.isMuted=!1,document.getElementById("vc-mic-mute").onmousedown=()=>this.muteCooldown?void Swal.fire({icon:"warning",text:"Please wait a moment before doing this again",backdrop:"",timer:3e3}):void this.setMute(!this.isMuted),this.muteCooldown=!1}onStart(){l("Confluence started"),this.openAudioMc.socketModule.send(ve,{enabled:!0})}dropStream(e){"open"===this.dataChannel.readyState?this.dataChannel.send((new ht).setEventName("DROP_STREAM").setParam("owner",e).serialize()):l("Warning! can't drop a stream because the connection is closed")}requestStream(e){if("open"===this.dataChannel.readyState){let t=new dt;return this.waitingPromises.set(e,t),this.dataChannel.send((new ht).setEventName("REQUEST_STREAM").setParam("owner",e).serialize()),t}{l("Warning! attempted to request a stream for "+e+" but the eb is closed");let t=new dt;return t.handleError("Connection is closed"),t}}initializeRenegotiation(){this.lastNegotiationRequest=performance.now(),this.pcReceiver.createOffer().then(e=>this.pcReceiver.setLocalDescription(e)).then(()=>{let e=JSON.stringify({sdp:btoa(JSON.stringify(this.pcReceiver.localDescription))}),t=(new ht).setEventName("KICKSTART_RENEG").serialize();t+=e,this.dataChannel.send(t)}).catch(e=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(e.toJSON()))})}handleRenagEnd(){if(null!=this.lastNegotiationRequest){let e=performance.now(),t=Math.ceil(e-this.lastNegotiationRequest);l("Renegotiation took "+t+" MS - "+(500<t?"Warning! Renegotiation took too long!":""))}}registerDataChannel(e,t){e.addEventListener("open",()=>{l("Opened RTC event bus")}),e.addEventListener("close",()=>{l("Closed RTC event bus")}),e.addEventListener("message",e=>{const n=e.data;let r=(new ht).fromString(n);switch(wt.isProd||l("Handling bus "+r.getEventName()),r.getEventName()){case"REQUEST_NEG_INIT":l("Server requested renag start"),this.initializeRenegotiation();break;case"NEGOTIATION_RESPONSE":let e=r.trimmed(),n=JSON.parse(e);l("response was "+e.length),this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(n.sdp)))).then(()=>{this.handleRenagEnd(),this.dataChannel.send((new ht).setEventName("CLIENT_CONFIRMED_NEG").serialize())});break;case"PROCESS_OFFER":this.lastNegotiationRequest=performance.now();let i=JSON.parse(r.trimmed());this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(i.sdp)))).then(()=>{this.pcReceiver.createAnswer().then(e=>{var t=(new ht).setEventName("PROCESS_RESPONSE").serialize();t+=btoa(JSON.stringify(e)),this.dataChannel.send(t),this.pcReceiver.setLocalDescription(e).catch(e=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(e.toJSON()))})}).catch(e=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(e.toJSON()))})}).catch(e=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(e.toJSON()))});break;case"CONFIRM_NEGOTIATION":this.handleRenagEnd();break;case"NEGOTIATION_CANCELLED":l("Negotiation was ignored, server doesn't think it to be needed.");break;case"OK":null!=t&&t(),this.openAudioMc.voiceModule.peerManager.playInternalSound("assets/unmute.mp3"),l("Received Confluence channel confirmation");break;case"REJECT_REQUEST":let o=r.getParam("owner");l("The server rejected a stream request to "+o),this.waitingPromises.has(o)&&(this.waitingPromises.get(o).handleError("Request got denied by the server"),this.waitingPromises.delete(o));break;case"CONFIRM_REQUEST":this.trackQueue.set(r.getParam("streamid"),r.getParam("owner"));break;case"CONTEXT_EVENT":this.contextEvent(r);break;case"IDENTIFY_SELF":this.dataChannel.send((new ht).setEventName("VERSION").setParam("build",wt.build+"").setParam("author",wt.compiler).setParam("isProd",wt.isProd+"").serialize());break;default:l("Warning! received a rtc packet called "+r.getEventName()+" but I don't have a clue what it does.")}})}contextEvent(e){let t=e.getParam("type");"client-muted"===t?this.openAudioMc.voiceModule.peerMap.get(e.getParam("who")).ui.setVisuallyMuted(!0):"client-unmuted"===t&&this.openAudioMc.voiceModule.peerMap.get(e.getParam("who")).ui.setVisuallyMuted(!1)}onInternalTrack(e,t,n){let r=e.id;if(!e.active)return void l("Received an inactive track! cancelling.");if(!this.trackQueue.has(r))return void l("Received an unknown track called "+r+". Ignoring it.");let i=this.trackQueue.get(r),o=this.waitingPromises.get(i);return null==o?void(t?l("Got a stream that doesn't seem to be asked for, skipping it. it was "+r):(l("Got a stream that doesn't seem to be asked for, trying again in 1s"),setTimeout(()=>{this.onInternalTrack(e,!0,n)},1e3))):(o.handleData(e),this.waitingPromises.delete(i),void this.trackQueue.delete(r))}async setup(e){let t=this.server+"webrtc/confluence/sdp/m/"+tokenCache.publicServerKey+"/pu/"+tokenCache.uuid+"/pn/"+tokenCache.name+"/sk/"+this.streamKey;this.pcReceiver=new RTCPeerConnection;let n=!1,r=e=>{if("connected"===this.pcReceiver.connectionState||"connected"===e.target.iceConnectionState){if(n)return;n=!0,this.onStart()}};this.pcReceiver.oniceconnectionstatechange=r,this.pcReceiver.addEventListener("connectionstatechange",r),this.pcReceiver.onnegotiationneeded=()=>{l("Finished negotiation round")},this.dataChannel=this.pcReceiver.createDataChannel("eb"),this.registerDataChannel(this.dataChannel,e),this.listenForTracks();const i=this.micStream.getTracks();for(let e=0;e<i.length;e++)this.pcReceiver.addTrack(this.micStream.getTracks()[e]);this.pcReceiver.createOffer().then(e=>this.pcReceiver.setLocalDescription(e)).then(()=>{fetch(t,{method:"POST",body:JSON.stringify({sdp:btoa(JSON.stringify(this.pcReceiver.localDescription))})}).then(e=>{200===e.status?e.json().then(e=>{this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(e.Sdp))))}):(Swal.fire({backdrop:"",showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},icon:"error",title:"Connection error",text:"Something went wrong while connecting to the OpenAudioMc voice service. Please try again in a minute or so.",footer:'<a href="https://help.openaudiomc.net/voicechat_troubleshooting">Why do I have this issue?</a>'}),e.json().then(t=>{this.openAudioMc.voiceModule.handleCrash("RTC connection error, received status body "+JSON.stringify(t)+" "+e.status)}))}).catch(e=>{console.error(e),this.openAudioMc.voiceModule.handleCrash(JSON.stringify(e.toJSON()))})}).catch(e=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(e.toJSON()))}),window.rtcHook=this.pcReceiver}async playInternalSound(e){l("Playing internal sound "+e);const t=new we(e),n=new Ne;n.openAudioMc=this.openAudioMc,n.setOa(this.openAudioMc),await n.load(e),n.setOnFinish(()=>{this.openAudioMc.mediaManager.mixer._updatePlayingSounds(),this.openAudioMc.mediaManager.mixer.removeChannel(e)}),n.finalize().then(()=>{this.openAudioMc.mediaManager.mixer.addChannel(t),t.addSound(n),t.setChannelVolume(100),t.updateFromMasterVolume(),n.finish()})}setMute(e){if(this.muteCooldown)Swal.fire("Please wait a moment before doing this again");else{e?this.playInternalSound("assets/mute.mp3"):this.playInternalSound("assets/unmute.mp3"),this.isMuted=e,this.setVisualMuteState(!e),this.muteCooldown=!0,setTimeout(()=>{this.muteCooldown=!1},500);for(let t=0;t<this.micStream.getAudioTracks().length;t++)this.micStream.getAudioTracks()[t].enabled=!e;e?(this.openAudioMc.voiceModule.microphoneProcessing.onMute(),this.openAudioMc.voiceModule.pushSocketEvent(vt.MIC_MUTE),this.dataChannel.send((new ht).setEventName("CONTEXT_EVENT").setParam("type","muted-stream").serialize())):(this.openAudioMc.voiceModule.microphoneProcessing.onUnmute(),this.openAudioMc.voiceModule.pushSocketEvent(vt.MIC_UNMTE),this.dataChannel.send((new ht).setEventName("CONTEXT_EVENT").setParam("type","unmuted-stream").serialize()))}}setVisualMuteState(e){e?(document.getElementById("vc-mic-mute").style.backgroundColor="",document.getElementById("vc-mic-mute").style.color=""):(document.getElementById("vc-mic-mute").style.backgroundColor="#EF4444",document.getElementById("vc-mic-mute").style.color="#F3F4F6")}stop(){this.micStream.getTracks().forEach((function(e){e.stop()})),this.pcReceiver.close()}listenForTracks(){this.pcReceiver.addEventListener("track",e=>{for(let t=0;t<e.streams.length;t++){if("dead-mans-track"===e.streams[t].id)return;e.track.onended=()=>{this.dataChannel.send((new ht).setEventName("SCHEDULE_RENAG").serialize())},this.onInternalTrack(e.streams[t],!1,e.track)}})}}var pt=n(133),gt=n.n(pt);class mt{constructor(e,t,n){this.openAudioMc=e,this.stream=n,this.voiceModule=t,this.id="visual-speaking-indicator",this.startedTalking=null,this.shortTriggers=0,this.isStreaming=!1,this.isMuted=!1,this.harkEvents=Object(at.a)(this.stream,{}),this.gainController=new gt.a(n),this.gainController.on(),this.loadDefaults(),this.longSessions=0,this.checkLoop=setInterval(()=>{if(this.isSpeaking){10<((new Date).getTime()-this.startedTalking)/1e3&&(this.longSessions++,this.startedTalking=(new Date).getTime()),1<this.longSessions&&(this.decreaseSensitivity(),this.longSessions=0,this.startedTalking=(new Date).getTime())}},500),this.hookListeners()}updateSensitivity(e){let t=-ne(e);this.harkEvents.setThreshold(t),Cookies.set("mic-sensitivity",t+"",{expires:30}),this.currentThreshold=this.harkEvents.getThreshold()}decreaseSensitivity(){if(!this.enabledAutoAdjustments)return;let e=ne(this.currentThreshold);e-=5,this.updateSensitivity(e),document.getElementById("mic-sensitive-slider").value=e}onMute(){this.isMuted=!0,this.isSpeaking&&this.shouldStream(!1)}onUnmute(){this.isMuted=!1,this.isSpeaking&&this.shouldStream(!0)}onSpeakStart(){this.isMuted||this.shouldStream(!0)}onSpeakEnd(){this.isMuted||this.shouldStream(!1)}stop(){this.harkEvents.stop(),clearInterval(this.checkLoop)}shouldStream(e){e?(!this.isStreaming&&(this.isStreaming=!0,"open"===this.openAudioMc.voiceModule.peerManager.dataChannel.readyState&&this.openAudioMc.voiceModule.peerManager.dataChannel.send((new ht).setEventName("DISTRIBUTE_RTP").serialize())),document.getElementById(this.id).style.backgroundColor="#34D399",document.getElementById(this.id).style.color="#EC4899",clearTimeout(this.haltRtpTask)):(this.haltRtpTask=setTimeout(()=>{"open"===this.openAudioMc.voiceModule.peerManager.dataChannel.readyState&&(this.isStreaming=!1,this.openAudioMc.voiceModule.peerManager.dataChannel.send((new ht).setEventName("HALT_RTP").serialize()))},500),document.getElementById(this.id).style.backgroundColor="",document.getElementById(this.id).style.color="")}loadDefaults(){this.enabledAutoAdjustments="enabled"===Cookies.get("mic-sensitivity-bot"),document.getElementById("enable-auto-adjustments").checked=this.enabledAutoAdjustments,document.getElementById("enable-auto-adjustments").onchange=e=>{e.target.checked?(this.enabledAutoAdjustments=!0,Cookies.set("enable-auto-adjustments","enabled",{expires:30})):(this.enabledAutoAdjustments=!1,Cookies.set("enable-auto-adjustments","disabled",{expires:30}))};let e=Cookies.get("mic-sensitivity");null!=e&&(e=parseInt(e),this.harkEvents.setThreshold(e)),document.getElementById("mic-sensitive-slider").value=ne(this.harkEvents.getThreshold()),this.currentThreshold=this.harkEvents.getThreshold(),this.isSpeaking=!1,this.harkEvents.setInterval(5),document.getElementById("mic-sensitive-slider").oninput=e=>{this.updateSensitivity(e.target.value)}}hookListeners(){this.harkEvents.on("speaking",()=>{this.isSpeaking=!0,this.startedTalking=(new Date).getTime(),this.onSpeakStart()}),this.harkEvents.on("stopped_speaking",()=>{this.isSpeaking=!1,this.onSpeakEnd(),1.5>((new Date).getTime()-this.startedTalking)/1e3?(this.shortTriggers++,25<this.shortTriggers&&(this.decreaseSensitivity(),this.shortTriggers=0)):this.shortTriggers=0})}}const vt={MIC_MUTE:"MICROPHONE_MUTED",MIC_UNMTE:"MICROPHONE_UNMUTE"};class yt{constructor(e){this.openAudioMc=e,this.peerManager=null,this.peerMap=new Map,this.loadedDeviceList=!1,this.loadeMicPreference=Cookies.get("preferred-mic"),this.surroundSwitch=new lt("use-surround",!0,e=>{this.openAudioMc.socketModule.send(ve,{enabled:!1}),this.useSurround=e,this.onSurrroundUpdate()}),this.useSurround=this.surroundSwitch.isOn(),l("Booted voice module")}enable(e,t,n){this.blocksRadius=n,this.server=e,this.streamKey=t,document.getElementById("vc-controls").style.display="",i("{{ vc.onboarding.panel }}",window.getMessageString("vc.onboarding",[["%range",this.blocksRadius+" blocks"]])),document.getElementById("vc-connect-button").onclick=()=>{this.consent(this.loadeMicPreference)},ee("vc-onboarding")}addPeer(e,t,n,r){this.peerMap.set(n,new ct(this.openAudioMc,t,e,n,this.server,r))}peerLocationUpdate(e,t,n,r){this.peerMap.has(e)&&this.peerMap.get(e).updateLocation(t,n,r)}removeAllPeers(){for(let[e,t]of this.peerMap)this.removePeer(e)}removePeer(e){if(this.peerMap.has(e)){let t=this.peerMap.get(e);this.peerMap.delete(e),t.stop()}else l("Couldn't remove peer "+e+" because, well, there is no such peer")}onSurrroundUpdate(){this.openAudioMc.socketModule.send(ve,{enabled:!1}),Swal.fire({title:window.getMessageString("vc.reloadingPopupTitle"),html:window.getMessageString("vc.reloadingPopup"),timer:3500,showCloseButton:!1,backdrop:"",showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(e=>{e.dismiss===Swal.DismissReason.timer&&this.openAudioMc.socketModule.send(ve,{enabled:!0})})}handleCrash(e){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong while starting your voice chat session. Please report this problem and try again later.",backdrop:""}),O("Something went wrong while enabling voicechat. Error: "+e,window.tokenCache.name)}handleAudioPermissions(e){document.getElementById("welcome-back-box").style.display="none",this.loadedDeviceList||(navigator.mediaDevices.enumerateDevices().then(e=>{let t=[];for(let n,r=0;r<e.length;r++)n=e[r],"audioinput"===n.kind&&t.push({name:n.label,id:n.deviceId});this.loadedDevices(t)}).catch(e=>{console.error(e),this.handleCrash(JSON.stringify(e.toJSON()))}),this.loadedDeviceList=!0),Swal.fire({backdrop:"",title:window.getMessageString("vc.startingPopupTitle"),html:window.getMessageString("vc.startingPopup"),showCloseButton:!1,showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()}}),this.microphoneProcessing=new mt(this.openAudioMc,this,e),this.peerManager=new ft(this.openAudioMc,this.server,this.streamKey,e,this.microphoneProcessing),this.peerManager.setup(this.onOutoingStreamStart).catch(e=>{this.handleCrash(JSON.stringify(e.toJSON()))}),u(()=>{l("Enabling rtc debugging"),window.debugUi.addPanel(ce.RTC,()=>"waitingPromises="+this.peerManager.waitingPromises.size+", trackQueue="+this.peerManager.trackQueue.size+", state="+this.peerManager.pcReceiver.connectionState+", ice="+this.peerManager.pcReceiver.iceConnectionState+", isSpeaking="+this.microphoneProcessing.isSpeaking+", transceivers="+this.peerManager.pcReceiver.getTransceivers().length+", muxPolicy="+this.peerManager.pcReceiver.getConfiguration().rtcpMuxPolicy)})}changeInput(e){l("Stopping current streamer, and restarting with a diferent user input"),Cookies.set("preferred-mic",e,{expires:30}),this.peerManager.setMute(!1),this.peerManager.stop(),this.microphoneProcessing.stop(),this.peerManager=null,this.openAudioMc.socketModule.send(ve,{enabled:!1}),Swal.fire({backdrop:"",title:window.getMessageString("vc.updatingMicPopupTitle"),html:window.getMessageString("vc.updatingMicPopup"),timer:3500,showCloseButton:!1,showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(t=>{t.dismiss===Swal.DismissReason.timer&&this.consent(e)})}loadedDevices(e){let t=document.getElementById("vc-mic-select");for(;0<t.options.length;)t.remove(0);for(let n=0;n<e.length;n++){let r=e[n],i=document.createElement("option");null==this.loadeMicPreference&&0==n&&(i.selected=!0),i.value=r.id,i.innerText=r.name,i.dataset.deviceId=r.id,t.add(i)}null!=this.loadeMicPreference&&(t.value=this.loadeMicPreference),t.onchange=e=>{let t=e.target.value;this.changeInput(t)}}onOutoingStreamStart(){ee("voice-home"),Swal.close()}consent(e){let t=e?{audio:{deviceId:{exact:e},noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1,channelCount:1}}:{audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1,channelCount:1}},n=new rt;n.successCallback=function(e){this.openAudioMc.voiceModule.handleAudioPermissions(e)}.bind(this),n.errorCallback=function(t){return null==e?(console.error(t),"OverconstrainedError"===t.name||t instanceof OverconstrainedError?(l("Couldn't get microphone, ignoring and trying again"),void this.consent(null)):void this.openAudioMc.voiceModule.permissionError(t)):(Cookies.remove("preferred-mic"),void this.consent(null))}.bind(this),n.getUserMedia(t)}permissionError(){ee("vc-onboarding"),Swal.fire({backdrop:"",showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},icon:"error",title:window.getMessageString("vc.micErrorPopupTitle"),text:window.getMessageString("vc.micErrorPopup"),footer:'<a href="https://help.openaudiomc.net/voicechat_troubleshooting">Why do I have this issue?</a>'})}shutDown(){document.getElementById("vc-controls").style.display="none",null!=this.peerManager&&this.peerManager.stop(),null!=this.microphoneProcessing&&this.microphoneProcessing.stop();for(let[e,t]of this.peerMap)t.stop()}pushSocketEvent(e){null!=this.peerManager&&this.openAudioMc.socketModule.send(ve,{event:e})}blurWithReason(){document.getElementById("vc-content").classList.add("filter"),document.getElementById("vc-content").classList.add("blur-md"),document.getElementById("vc-disabled-overlay").style.display="",i("{{ oam.vc.disabled }}",window.getMessageString("vc.disabled"),[["%server",this.openAudioMc.serverName]])}unblur(){document.getElementById("vc-content").classList.remove("filter"),document.getElementById("vc-content").classList.remove("blur-md"),document.getElementById("vc-disabled-overlay").style.display="none"}}class bt{constructor(){this.messages={},this.seeded=!1,this.seededValues=[],this.currentLangFile="",this.forcedValues={},this.languageMappings={gb:"en.lang",us:"en.lang",nl:"nl.lang",lt:"lt.lang",be:"nl.lang",fr:"fr.lang",ru:"ru.lang",ua:"ru.lang",kz:"ru.lang",md:"ru.lang",hk:"chi.lang",cn:"chi.lang",ro:"ro.lang",de:"de.lang"},window.getMessageString=this.getString,window.debugHooks.loadLanguage=this.load}setKey(e,t){this.forcedValues[e]=t}async handleCountry(e){e=e.toLowerCase();let t=this.languageMappings[e];null!=t&&(l("Switching to "+e+" > "+t),await this.load(t))}updateBanner(){if(Cookies.get("preferred-lang")===this.currentLangFile)return void(document.getElementById("lang-change-banner").style.display="none");let e=[["%langName",getMessageString("lang.name")]];i("{{ ui.lang.detectedAs }}",getMessageString("lang.detectedAs",e)),i("{{ ui.lang.toEn }}",getMessageString("lang.toEn",e)),i("{{ ui.lang.keep }}",getMessageString("lang.keep",e)),document.getElementById("lang-back-to-en").onclick=async()=>{await this.load("en.lang"),document.getElementById("lang-change-banner").style.display="none"},document.getElementById("lang-keep").onclick=()=>{Cookies.set("preferred-lang",this.currentLangFile,{expires:30}),document.getElementById("lang-change-banner").style.display="none"},document.getElementById("lang-change-banner").style.display=""}getString(e,t=[]){let n=window.openAudioMc.messageModule.messages[e];if(null==n)return l("Couldn't find message key "+e),"?? "+e+" ??";let r=window.openAudioMc.messageModule.forcedValues[e];null!=r&&(n=r);for(let e=0;e<t.length;e++)n=n.replace(t[e][0],t[e][1]);return n}renderKeyToDom(e,t,n=[]){let r=this.getString(t,n),o=window.openAudioMc.messageModule.forcedValues[e];null!=o&&(r=o),i(e,r,!0)}seedStatic(e){let t=function(e){function t(){var e=[];return function t(n){if(n.childNodes.length)for(var r=0;r<n.childNodes.length;r++)t(n.childNodes[r]);else n.nodeType===Node.TEXT_NODE&&e.push(n)}(document),e}let n=[];for(let r,i=0;i<t().length;i++)r=t()[i],-1!==r.nodeValue.indexOf(e)&&n.push(r.nodeValue);return n}("{%"),n={};for(let e=0;e<t.length;e++){var r=t[e];let i="",o=!1;for(let e of r)o?i+=e:" "!==e&&"\n"!==e&&(o=!0,i+=e);n[r=i]=r.split(" ")[1]}for(let t in n)this.seededValues.push({key:t,value:n[t],placeholders:e}),this.renderKeyToDom(t,n[t],e);this.seeded=!0}async fetchWithFailover(e,t=!1){let n=(window.location.pathname+window.location.search).split("?")[0],r=t?Oe.CONTENT_PROXY+"https://client.openaudiomc.net/":n,i=await fetch(r+e);return 200===i.status||t?(await i.text()).split("\n"):(l("Using fetch fail over for lang"),await window.openAudioMc.messageModule.fetchWithFailover(e,!0))}async load(e){if(this.currentLangFile===e)return;let t=[];t=await window.openAudioMc.messageModule.fetchWithFailover(e);for(let e,n=0;n<t.length;n++){if(e=t[n],e.startsWith("#")||5>e.length)continue;let r=!1,i="",o="";for(let t,n=0;n<e.length;n++)t=e[n],r?o+=t:"="===t?r=!0:i+=t;""!==o&&(window.openAudioMc.messageModule.messages[i]=o)}if(this.currentLangFile=e,window.openAudioMc.messageModule.seeded){for(let e,t=0;t<window.openAudioMc.messageModule.seededValues.length;t++)e=window.openAudioMc.messageModule.seededValues[t],window.openAudioMc.messageModule.renderKeyToDom(e.key,e.value,e.placeholders);window.openAudioMc.messageModule.updateBanner()}}}n.d(t,"OpenAudioEnv",(function(){return wt})),n.d(t,"OpenAudioMc",(function(){return St}));const wt={build:"812",compiler:"Mindgamesnl",platform:"Production",environment:"macOS",isProd:JSON.parse("true"),envDescription:"default-prod"};window.debugHooks={},u(()=>{window.debugUi.addPanel(ce.UI,()=>"componentElementCache="+Object.keys(ae).length+", propertyCache="+Object.keys(ue).length)});class St extends class extends class{constructor(){console.log("%c Made with love. Take note! this is a bundled version of OpenAudioMc. To get the full source code, please visit https://github.com/Mindgamesnl/OpenAudioMc","background: linear-gradient(#D33106, #571402);border: 1px solid #3E0E02;color: white;display: block;text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 5px 3px -5px rgba(0, 0, 0, 0.5), 0 -13px 5px -10px rgba(255, 255, 255, 0.4) inset;line-height: 40px;text-align: center;font-weight: bold"),this.log("Enabling the web client for "+window.navigator.userAgent)}}{log(e){l(e)}getMessages(){return this.messages}getTimeService(){return this.timeService}getHueConfiguration(){return this.hueConfiguration}debugPrint(e){this.log(e)}getMediaManager(){return this.mediaManager}getHueModule(){return this.hueModule}getUserInterfaceModule(){return this.userInterfaceModule}}{constructor(){if(super(),l("Starting build "+JSON.stringify(wt)),this.messageModule=new bt,this.canStart=!1,this.host=null,this.background=null,this.ambianceSound="",this.isPatreon=!1,this.tokenSet=(new _e).fromCache(),null==this.tokenSet)return l("Stopping with bad auth"),void h(me.BAD_AUTH);l("Resuming boot"),this.notificationModule=new We(this),this.timeService=new pe,this.userInterfaceModule=new ge(this),this.hueConfiguration=new Ue(this),this.mediaManager=new Fe(this),this.voiceModule=new yt(this),Q("preparing session, welcome "+this.tokenSet.name),l("Setting direcot");const e=new He(Oe.MAIN_BACKEND);l("Calling route"),e.route(this).then(async e=>{Q("Loading language, welcome "+this.tokenSet.name),await this.messageModule.load("en.lang"),this.messageModule.seedStatic([["%player",this.tokenSet.name],["%server",e.serverName]]),e.useTranslations&&(l("Enabling automatic translations"),await this.messageModule.handleCountry(e.countryCode)),this.serverName=e.serverName,this.canStart=!0,this.host=e.host,this.background=e.background,this.ambianceSound=e.ambianceSound,this.isPatreon=e.isPatreon,h(me.WELCOME),l("Server: "+e.serverName),u(()=>{window.debugUi.addPanel(ce.ACCOUNT,"cached="+e.fromCache+", pc="+e.playerCount+", claimed="+e.claimed+", sfu="+e.host+", rtc="+e.rtc)});let t=Cookies.get("volume");null==t?this.mediaManager.changeVolume(25):this.mediaManager.changeVolume(t),this.isPatreon&&l("This server is supporting the project on Patreon! that's awesome!"),i("{{ craftmend.account.serverName }}",e.serverName),setTimeout(()=>{r("{{ oam.loader_style }}","display: none;","style")},250)}).catch(e=>{console.error(e),console.error("Exception thrown",e.stack),this.userInterfaceModule.kickScreen("Your current URL appears to be invalid. Please request a new one in-game using the /audio command. If this issue if persists please contact a member of staff.")})}showLoginScreen(){r("{{ oam.loader_style }}","display: -;","style"),r("{{ oam.login_style }}","display: -;","style")}async start(){this.canStart&&(this.canStart=!1,this.world=new nt(this),this.hueModule=new be(this,Object(Ke.a)()),this.socketModule=new Le(this,this.host),await this.mediaManager.setupAmbianceSound(this.ambianceSound),this.mediaManager.postBoot(),new De(this),""!==this.background&&(r("{{ oam.side_image }}",this.background),r("{{ oam.bg_image_map }}","--bg-map:url('"+this.background+"');")),this.mediaManager.postBoot())}sendError(e){O(e,this.tokenSet.name)}}Q("loading the client..."),window.onload=function(){Q("loading assets..."),wt.isProd||a(),u(()=>{window.debugUi.addPanel(ce.LOG,()=>fe.join("\n"))});if(navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS"))return void(window.location.href="https://help.openaudiomc.net/browsers.html");r("{{ oam.side_image }}","assets/bg.jpg","src"),r("{{ oam.logo_image }}","assets/logo.png","src"),r("{{ oam.bg_image_map }}","--bg-map:url('../assets/bg.jpg');","style"),i("{{ oam.hue_bridge_name }}","No bridge"),Q("logging in..."),(new _e).initialize().then(e=>null==e?(r("{{ oam.loader_style }}","display: -;","style"),r("{{ oam.login_style }}","display: -;","style"),r("{{ oam.loader_status }}","display: none;","style"),void O("A faulty login attempt was done at "+window.location.host,"Steve")):(u(()=>{window.debugUi.addPanel(ce.SESSION,e.name+"@"+e.publicServerKey+"/"+e.scope)}),null!=e&&null!=e.name&&(r("{{ oam.player_head }}","https://crafatar.com/avatars/"+e.uuid+"?overlay","src"),i("{{ oam.player_name }}",e.name),qe=new St,window.openAudioMc=qe),void document.body.addEventListener("click",$))).catch(console.error)},window.onhashchange=()=>window.location.reload(),"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var e={};return Object.getOwnPropertyNames(this).forEach((function(t){e[t]=this[t]}),this),e},configurable:!0,writable:!0})}]);